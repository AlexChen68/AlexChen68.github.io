import{_ as a,o as s,c as n,Q as l}from"./chunks/framework.419948d5.js";const u=JSON.parse('{"title":"Java 日期时间","description":"","frontmatter":{"title":"Java 日期时间","order":3,"date":"2023-05-10T00:00:00.000Z"},"headers":[],"relativePath":"java/basic/date.md","filePath":"java/basic/date.md","lastUpdated":1699559446000}'),e={name:"java/basic/date.md"},o=l(`<h1 id="java-日期时间" tabindex="-1">Java 日期时间 <a class="header-anchor" href="#java-日期时间" aria-label="Permalink to &quot;Java 日期时间&quot;">​</a></h1><h2 id="date-和-calendar" tabindex="-1">Date 和 Calendar <a class="header-anchor" href="#date-和-calendar" aria-label="Permalink to &quot;Date 和 Calendar&quot;">​</a></h2><p><code>java.util.Date</code> 与 <code>java.util.Calendar</code> 是 JDK 早期提供的日期工具，不过由于 API 设计混乱，吐槽的地方太多了。比如：</p><ul><li>在易用性方面有着很大的缺陷，年份的起始时间选择是 1900 年，月份是从 0 开始。</li><li>toString 方法返回值不直观，带有时区。</li><li>很多时间操作都需要 <code>SimpleDateTimeFormat</code> 来格式化。</li><li><code>java.util.Date</code> 与 <code>java.util.Calendar</code> 中的所有属性都是可变的。</li><li><code>SimpleDateTimeFormat</code> 是非线程安全。</li></ul><p>因此，从 JDK8 起，提供了新的日期工具包 <code>java.time</code> 来替换原来的日期工具。</p><h2 id="java8-时间和日期" tabindex="-1">Java8 时间和日期 <a class="header-anchor" href="#java8-时间和日期" aria-label="Permalink to &quot;Java8 时间和日期&quot;">​</a></h2><p>Java 8 仍然延用了 ISO 的日历体系，并且与它的前辈们不同，<code>java.time</code> 包中的类是不可变且线程安全的。新的时间及日期 API 位于 <code>java.time</code> 包中，下面是里面的一些关键的类：</p><ol><li><code>Instant</code>——它代表的是时间戳</li><li><code>LocalDate</code>——不包含具体时间的日期，比如 2014-01-14。它可以用来存储生日，周年纪念日，入职日期等。</li><li><code>LocalTime</code>——它代表的是不含日期的时间</li><li><code>LocalDateTime</code>——它包含了日期及时间，不过还是没有偏移信息或者说时区。</li><li><code>ZonedDateTime</code>——这是一个包含时区的完整的日期时间，偏移量是以 UTC/格林威治时间为基准的。</li></ol><p>新的库还增加了 ZoneOffset 及 Zoned，可以为时区提供更好的支持。有了新的 DateTimeFormatter 之后日期的解析及格式化也变得焕然一新了。</p><h2 id="java-time-api-使用" tabindex="-1">java.time API 使用 <a class="header-anchor" href="#java-time-api-使用" aria-label="Permalink to &quot;java.time API 使用&quot;">​</a></h2><h3 id="获取当前时间" tabindex="-1">获取当前时间 <a class="header-anchor" href="#获取当前时间" aria-label="Permalink to &quot;获取当前时间&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">LocalDate ld </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDate.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalTime lt </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime ldt </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">LocalDate ld </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDate.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">LocalTime lt </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime ldt </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出结果</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2023-10-17</span></span>
<span class="line"><span style="color:#B392F0;">17:26:02.519</span></span>
<span class="line"><span style="color:#B392F0;">2023-10-17T17:26:02.519</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2023-10-17</span></span>
<span class="line"><span style="color:#6F42C1;">17:26:02.519</span></span>
<span class="line"><span style="color:#6F42C1;">2023-10-17T17:26:02.519</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="指定时间实例化" tabindex="-1">指定时间实例化 <a class="header-anchor" href="#指定时间实例化" aria-label="Permalink to &quot;指定时间实例化&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">LocalDate date </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDate.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2022</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalTime time </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalTime.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">22</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">22</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">of</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2022</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">LocalDate date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDate.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2022</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">LocalTime time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalTime.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">22</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">22</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime localDateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">of</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2022</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出结果</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2022-02-02</span></span>
<span class="line"><span style="color:#B392F0;">02:22:22</span></span>
<span class="line"><span style="color:#B392F0;">2022-02-02T02:02:02</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2022-02-02</span></span>
<span class="line"><span style="color:#6F42C1;">02:22:22</span></span>
<span class="line"><span style="color:#6F42C1;">2022-02-02T02:02:02</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="格式转换" tabindex="-1">格式转换 <a class="header-anchor" href="#格式转换" aria-label="Permalink to &quot;格式转换&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">DateTimeFormatter formatter </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DateTimeFormatter.</span><span style="color:#B392F0;">ofPattern</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">String dateTimeString </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> formatter.</span><span style="color:#B392F0;">format</span><span style="color:#E1E4E8;">(LocalDateTime.</span><span style="color:#B392F0;">now</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">DateTimeFormatter formatter </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DateTimeFormatter.</span><span style="color:#6F42C1;">ofPattern</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">String dateTimeString </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> formatter.</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(LocalDateTime.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">());</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出结果</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2023-10-17</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">17</span><span style="color:#9ECBFF;">:30:49</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2023-10-17</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">17</span><span style="color:#032F62;">:30:49</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="时间字符串转日期对象" tabindex="-1">时间字符串转日期对象 <a class="header-anchor" href="#时间字符串转日期对象" aria-label="Permalink to &quot;时间字符串转日期对象&quot;">​</a></h3><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">String str </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;2023-10-17 17:30:49&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">DateTimeFormatter formatter </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> DateTimeFormatter.</span><span style="color:#B392F0;">ofPattern</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">LocalDateTime localDateTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> LocalDateTime.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(str, formatter);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">String str </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;2023-10-17 17:30:49&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">DateTimeFormatter formatter </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> DateTimeFormatter.</span><span style="color:#6F42C1;">ofPattern</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">LocalDateTime localDateTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> LocalDateTime.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(str, formatter);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出结果</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">2023-10-17T17:30:49</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">2023-10-17T17:30:49</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,26),p=[o];function t(c,r,i,d,y,E){return s(),n("div",null,p)}const h=a(e,[["render",t]]);export{u as __pageData,h as default};
