import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.01af844e.js";const d=JSON.parse('{"title":"ElasticSearch 部署","description":"","frontmatter":{"title":"ElasticSearch 部署","date":"2023-06-09T00:00:00.000Z","order":41},"headers":[],"relativePath":"devops/deploy/elasticsearch.md","filePath":"devops/deploy/elasticsearch.md","lastUpdated":1700320668000}'),p={name:"devops/deploy/elasticsearch.md"},o=l(`<h1 id="elasticsearch-安装部署" tabindex="-1">ElasticSearch 安装部署 <a class="header-anchor" href="#elasticsearch-安装部署" aria-label="Permalink to &quot;ElasticSearch 安装部署&quot;">​</a></h1><h2 id="docker-安装" tabindex="-1">Docker 安装 <a class="header-anchor" href="#docker-安装" aria-label="Permalink to &quot;Docker 安装&quot;">​</a></h2><ol><li>拉取镜像</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch:7.17.7</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pull</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch:7.17.7</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>创建网络（方便与其他组件例如 kibana 连接）</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">network</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">create</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elastic</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">network</span><span style="color:#24292E;"> </span><span style="color:#032F62;">create</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elastic</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>启动 ElasticSearch 容器 (单节点模式)</li></ol><p>（可选）挂载 <code>elasticsearch.yml</code>、数据目录、插件目录到宿主机，需要先在宿主机目录创建该文件，文件内容为：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 表示允许所有主机访问</span></span>
<span class="line"><span style="color:#85E89D;">network.host</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0.0.0.0</span></span>
<span class="line"><span style="color:#6A737D;"># 关闭安全模块（8.x 版本才添加）</span></span>
<span class="line"><span style="color:#85E89D;">xpack.security.enabled</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#85E89D;">xpack.security.enrollment.enabled</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#85E89D;">xpack.security.http.ssl.enabled</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#85E89D;">xpack.security.transport.ssl.enabled</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 表示允许所有主机访问</span></span>
<span class="line"><span style="color:#22863A;">network.host</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0.0.0.0</span></span>
<span class="line"><span style="color:#6A737D;"># 关闭安全模块（8.x 版本才添加）</span></span>
<span class="line"><span style="color:#22863A;">xpack.security.enabled</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#22863A;">xpack.security.enrollment.enabled</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#22863A;">xpack.security.http.ssl.enabled</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#22863A;">xpack.security.transport.ssl.enabled</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>::: code-tabs @tab 多行命令</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">--net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elastic</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9200</span><span style="color:#9ECBFF;">:9200</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9300</span><span style="color:#9ECBFF;">:9300</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;discovery.type=single-node&quot;</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#79B8FF;">\\ </span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#B392F0;">elasticsearch:7.17.7</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">--net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elastic</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9200</span><span style="color:#032F62;">:9200</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9300</span><span style="color:#032F62;">:9300</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;discovery.type=single-node&quot;</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#005CC5;">\\ </span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6F42C1;">elasticsearch:7.17.7</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>@tab 单行命令</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 不挂载</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elastic</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9200</span><span style="color:#9ECBFF;">:9200</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9300</span><span style="color:#9ECBFF;">:9300</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;discovery.type=single-node&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch:7.17.7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 挂载</span></span>
<span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elastic</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9200</span><span style="color:#9ECBFF;">:9200</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">9300</span><span style="color:#9ECBFF;">:9300</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;discovery.type=single-node&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-v</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:/Docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elasticsearch:7.17.7</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 不挂载</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elastic</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9200</span><span style="color:#032F62;">:9200</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9300</span><span style="color:#032F62;">:9300</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;discovery.type=single-node&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch:7.17.7</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 挂载</span></span>
<span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elastic</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9200</span><span style="color:#032F62;">:9200</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">9300</span><span style="color:#032F62;">:9300</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;discovery.type=single-node&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-v</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:/Docker/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elasticsearch:7.17.7</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>:::</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>直接启动 es 时，大概会占用宿主机 4G 的内存，可以通过指定 docker 容器的内存限制来减少 es 实例的内存开销，适用于开发环境：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">-e</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">-e</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ES_JAVA_OPTS=&quot;-Xms512m -Xmx512m&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><ol start="4"><li>测试安装是否成功</li></ol><p>打开 <code>http://localhost:9200/</code>，替换为实际 ip，如果出现以下结果则表示安装成功：</p><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;f62e736ae7b6&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;cluster_name&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;elasticsearch&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;cluster_uuid&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;diScjh5mT3O6q6w08euNjA&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;version&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;number&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;7.17.7&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;build_flavor&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;default&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;build_type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;docker&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;build_hash&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;c01029875a091076ed42cdb3a41c10b1a9a5a20f&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;build_date&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;2023-05-23T17:16:07.179039820Z&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;build_snapshot&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;lucene_version&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;9.6.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;minimum_wire_compatibility_version&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;7.17.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">&quot;minimum_index_compatibility_version&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;7.0.0&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;tagline&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;You Know, for Search&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;f62e736ae7b6&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;cluster_name&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;elasticsearch&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;cluster_uuid&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;diScjh5mT3O6q6w08euNjA&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;version&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;number&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;7.17.7&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;build_flavor&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;default&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;build_type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;docker&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;build_hash&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;c01029875a091076ed42cdb3a41c10b1a9a5a20f&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;build_date&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;2023-05-23T17:16:07.179039820Z&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;build_snapshot&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;lucene_version&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;9.6.0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;minimum_wire_compatibility_version&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;7.17.0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">&quot;minimum_index_compatibility_version&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;7.0.0&quot;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;tagline&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;You Know, for Search&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="安装-ik-分词插件" tabindex="-1">安装 ik 分词插件 <a class="header-anchor" href="#安装-ik-分词插件" aria-label="Permalink to &quot;安装 ik 分词插件&quot;">​</a></h2><p><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank" rel="noreferrer">elasticsearch-analysis-ik</a> 是一个 elasticsearch 分词插件，由于 es 对中文分词的支持并不完善，通常，我们会使用它来支持更好的中文分词。</p><p>安装 ik 有两种方式：</p><ol><li>本地安装</li></ol><p>在 elasticsearch 工作目录的 plugins 文件夹下面新建文件夹 ik，从这里下载：<a href="https://github.com/medcl/elasticsearch-analysis-ik/releases" target="_blank" rel="noreferrer">ClickHere</a> 下载对应版本的压缩包，并解压到 ik 文件夹下，注意版本到对应，版本对应关系如下：</p><p><img src="https://cdn.jsdelivr.net/gh/AlexChen68/OSS@master/images/2023/1686302638366.png" alt="ik 版本"></p><ol start="2"><li>URL 安装</li></ol><p>直接用 <code>elasticsearch-plugin install</code> 命令从网络下载并安装，示例：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 进入容器</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">exec</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-it</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">container_id</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 安装 ik 插件</span></span>
<span class="line"><span style="color:#B392F0;">/usr/share/elasticsearch/bin/elasticsearch-plugin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.7/elasticsearch-analysis-ik-7.17.7.zip</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 进入容器</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">exec</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-it</span><span style="color:#24292E;"> </span><span style="color:#032F62;">container_id</span><span style="color:#24292E;"> </span><span style="color:#032F62;">bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 安装 ik 插件</span></span>
<span class="line"><span style="color:#6F42C1;">/usr/share/elasticsearch/bin/elasticsearch-plugin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.7/elasticsearch-analysis-ik-7.17.7.zip</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>安装完成后，都需要重启 ElasticSearch</p></div><h2 id="浏览器插件" tabindex="-1">浏览器插件 <a class="header-anchor" href="#浏览器插件" aria-label="Permalink to &quot;浏览器插件&quot;">​</a></h2><p>在浏览器中有一个插件 <code>ES-client</code>，可以很方便的从网页查看 es 的索引、数据等等，在浏览器扩展商店搜索 <code>ES-client</code> 即可，使用效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/AlexChen68/OSS@master/images/2023/1686308053401.png" alt=""></p><h2 id="docker-安装-kibana" tabindex="-1">Docker 安装 kibana <a class="header-anchor" href="#docker-安装-kibana" aria-label="Permalink to &quot;Docker 安装 kibana&quot;">​</a></h2><p>kibana 也是 elastic 公司的产品，Kibana 能够以图表的形式呈现数据，并且具有可扩展的用户界面，可以全方位的配置和管理 ElasticSearch。</p><p>这里还是介绍 Docker 安装 Kibana 的步骤：</p><ol><li>拉取镜像，注意与 ElasticSearch 版本一致</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pull</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kibana:7.17.7</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pull</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kibana:7.17.7</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>启动容器，连接 ElasticSearch 的网络组</li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">docker</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">run</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-d</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kibana</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--net</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">elastic</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-p</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5601</span><span style="color:#9ECBFF;">:5601</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">kibana:7.17.7</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">docker</span><span style="color:#24292E;"> </span><span style="color:#032F62;">run</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-d</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kibana</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--net</span><span style="color:#24292E;"> </span><span style="color:#032F62;">elastic</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-p</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5601</span><span style="color:#032F62;">:5601</span><span style="color:#24292E;"> </span><span style="color:#032F62;">kibana:7.17.7</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,38),e=[o];function c(t,r,i,y,E,u){return a(),n("div",null,e)}const h=s(p,[["render",c]]);export{d as __pageData,h as default};
