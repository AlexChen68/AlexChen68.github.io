<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.51" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://AlexChen68.github.com/blog/md/db/mybatis/mybatis.html"><meta property="og:site_name" content="AlexChen's Blog"><meta property="og:title" content="Mybatis"><meta property="og:description" content="Mybatis"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-29T15:54:45.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="Mybatis"><meta property="article:published_time" content="2022-10-21T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-29T15:54:45.000Z"><link rel="icon" href="/logo.svg"><title>Mybatis | AlexChen's Blog</title><meta name="description" content="Mybatis">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.65dda2c3.css">
    <link rel="modulepreload" href="/assets/app.abaa51aa.js"><link rel="modulepreload" href="/assets/mybatis.html.61de53ca.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/mybatis.html.0ad76505.js"><link rel="prefetch" href="/assets/index.html.a7739ff1.js"><link rel="prefetch" href="/assets/home.html.ed516daa.js"><link rel="prefetch" href="/assets/index.html.7ae5ac07.js"><link rel="prefetch" href="/assets/index.html.36a4b420.js"><link rel="prefetch" href="/assets/index.html.ea7584e1.js"><link rel="prefetch" href="/assets/articles.html.5a599e6e.js"><link rel="prefetch" href="/assets/blogs.html.c3213e4e.js"><link rel="prefetch" href="/assets/books.html.db20a909.js"><link rel="prefetch" href="/assets/docs.html.0e3822cc.js"><link rel="prefetch" href="/assets/index.html.11ce55ea.js"><link rel="prefetch" href="/assets/index.html.83182a76.js"><link rel="prefetch" href="/assets/index.html.0fd57ca6.js"><link rel="prefetch" href="/assets/01-jdk.html.63a3b899.js"><link rel="prefetch" href="/assets/02-git.html.4f2c5e32.js"><link rel="prefetch" href="/assets/03-idea.html.04c3a6ee.js"><link rel="prefetch" href="/assets/04-vscode.html.3092e4a4.js"><link rel="prefetch" href="/assets/05-maven.html.b12e1976.js"><link rel="prefetch" href="/assets/06-gradle.html.be081067.js"><link rel="prefetch" href="/assets/07-markdown.html.81f3f205.js"><link rel="prefetch" href="/assets/10-log.html.4feee31d.js"><link rel="prefetch" href="/assets/20-office.html.de60e87c.js"><link rel="prefetch" href="/assets/index.html.35b8fd8d.js"><link rel="prefetch" href="/assets/regex.html.14fc0378.js"><link rel="prefetch" href="/assets/index.html.2850f1ab.js"><link rel="prefetch" href="/assets/other.html.c1fdef8e.js"><link rel="prefetch" href="/assets/search.html.684ab4c4.js"><link rel="prefetch" href="/assets/sort.html.82cc08d9.js"><link rel="prefetch" href="/assets/index.html.38c41236.js"><link rel="prefetch" href="/assets/principle.html.af8a5121.js"><link rel="prefetch" href="/assets/index.html.bb5a613b.js"><link rel="prefetch" href="/assets/graph.html.5bafaed5.js"><link rel="prefetch" href="/assets/linear.html.26e85517.js"><link rel="prefetch" href="/assets/overview.html.e1b98afe.js"><link rel="prefetch" href="/assets/tree.html.260b1c33.js"><link rel="prefetch" href="/assets/index.html.9b969eca.js"><link rel="prefetch" href="/assets/mybatis-spring.html.153a505d.js"><link rel="prefetch" href="/assets/mybatis-springboot.html.0dc7a758.js"><link rel="prefetch" href="/assets/index.html.df999023.js"><link rel="prefetch" href="/assets/mysql-ddl.html.565eb2b0.js"><link rel="prefetch" href="/assets/mysql-install.html.cd6f996d.js"><link rel="prefetch" href="/assets/index.html.7acb7bdb.js"><link rel="prefetch" href="/assets/started.html.addf27dc.js"><link rel="prefetch" href="/assets/01-feature.html.f9e08355.js"><link rel="prefetch" href="/assets/02-datatype.html.f61a5d45.js"><link rel="prefetch" href="/assets/03-string.html.de34a0b7.js"><link rel="prefetch" href="/assets/04-annotation.html.6fef81ff.js"><link rel="prefetch" href="/assets/index.html.d2140aad.js"><link rel="prefetch" href="/assets/01-ArrayList.html.b8c774c9.js"><link rel="prefetch" href="/assets/02-LinkedList.html.1e80c3ab.js"><link rel="prefetch" href="/assets/03-HashMap.html.c9d3a47e.js"><link rel="prefetch" href="/assets/04-LinkedHashMap.html.845d9999.js"><link rel="prefetch" href="/assets/05-HashSet.html.f37c5bed.js"><link rel="prefetch" href="/assets/06-LinkedHashSet.html.95c90833.js"><link rel="prefetch" href="/assets/07-TreeMap.html.c6351461.js"><link rel="prefetch" href="/assets/08-TreeSet.html.567191a8.js"><link rel="prefetch" href="/assets/index.html.8ff0c603.js"><link rel="prefetch" href="/assets/01-thread.html.4b1beb1b.js"><link rel="prefetch" href="/assets/index.html.123d7801.js"><link rel="prefetch" href="/assets/index.html.efa3b0dd.js"><link rel="prefetch" href="/assets/01-structure.html.ca10ef08.js"><link rel="prefetch" href="/assets/02-ioc.html.7f7cb5b7.js"><link rel="prefetch" href="/assets/03-aop.html.178eae2a.js"><link rel="prefetch" href="/assets/04-springmvc.html.47d3d204.js"><link rel="prefetch" href="/assets/05-annotation.html.88eb43fc.js"><link rel="prefetch" href="/assets/11-resources.html.40a7e3ce.js"><link rel="prefetch" href="/assets/21-validation.html.ac3c2445.js"><link rel="prefetch" href="/assets/31-spel.html.ec9780fb.js"><link rel="prefetch" href="/assets/41-data-access-transaction.html.d544d79b.js"><link rel="prefetch" href="/assets/index.html.87d77b8c.js"><link rel="prefetch" href="/assets/01-using.html.840894cf.js"><link rel="prefetch" href="/assets/02-starter.html.ca2da76e.js"><link rel="prefetch" href="/assets/11-swagger.html.dd1b1d70.js"><link rel="prefetch" href="/assets/index.html.ee071857.js"><link rel="prefetch" href="/assets/index.html.531ee4b5.js"><link rel="prefetch" href="/assets/nacos.html.5ce7bc3d.js"><link rel="prefetch" href="/assets/index.html.b15f8920.js"><link rel="prefetch" href="/assets/index.html.68a57f96.js"><link rel="prefetch" href="/assets/chain.html.1aa2eb7e.js"><link rel="prefetch" href="/assets/AbstractFactory.html.65245f39.js"><link rel="prefetch" href="/assets/Builder.html.9d026fc6.js"><link rel="prefetch" href="/assets/FactoryMethod.html.6d5aa860.js"><link rel="prefetch" href="/assets/Prototype.html.bcd5b92c.js"><link rel="prefetch" href="/assets/index.html.ce5b30b9.js"><link rel="prefetch" href="/assets/SimpleFactory.html.29944da7.js"><link rel="prefetch" href="/assets/Singleton.html.d6aa65a5.js"><link rel="prefetch" href="/assets/Adapter.html.5d57d62d.js"><link rel="prefetch" href="/assets/Facade.html.099a7d19.js"><link rel="prefetch" href="/assets/index.html.f197601e.js"><link rel="prefetch" href="/assets/structural.html.507b4b6f.js"><link rel="prefetch" href="/assets/index.html.06e0c1f7.js"><link rel="prefetch" href="/assets/array.html.5860e519.js"><link rel="prefetch" href="/assets/001-ä¸¤æ•°ä¹‹å’Œ.html.23732321.js"><link rel="prefetch" href="/assets/011-ç››æœ€å¤šæ°´çš„å®¹å™¨.html.193e47a0.js"><link rel="prefetch" href="/assets/283-ç§»åŠ¨é›¶.html.f762c476.js"><link rel="prefetch" href="/assets/485-æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°.html.dafa41cd.js"><link rel="prefetch" href="/assets/645-é”™è¯¯çš„é›†åˆ.html.dc4b03e5.js"><link rel="prefetch" href="/assets/697-æ•°ç»„çš„åº¦.html.c812a31c.js"><link rel="prefetch" href="/assets/index.html.d05a8924.js"><link rel="prefetch" href="/assets/404.html.50b7cd4d.js"><link rel="prefetch" href="/assets/index.html.00f33fc8.js"><link rel="prefetch" href="/assets/index.html.bcedfb08.js"><link rel="prefetch" href="/assets/index.html.de87a75c.js"><link rel="prefetch" href="/assets/index.html.1f5f06cd.js"><link rel="prefetch" href="/assets/index.html.ea325869.js"><link rel="prefetch" href="/assets/index.html.51c61ab7.js"><link rel="prefetch" href="/assets/index.html.36a5348b.js"><link rel="prefetch" href="/assets/index.html.10865ce5.js"><link rel="prefetch" href="/assets/index.html.758c8de2.js"><link rel="prefetch" href="/assets/index.html.642f0b4d.js"><link rel="prefetch" href="/assets/index.html.cd776acf.js"><link rel="prefetch" href="/assets/index.html.646d4758.js"><link rel="prefetch" href="/assets/index.html.f881982c.js"><link rel="prefetch" href="/assets/index.html.15226d3b.js"><link rel="prefetch" href="/assets/index.html.58f5b494.js"><link rel="prefetch" href="/assets/index.html.11dce518.js"><link rel="prefetch" href="/assets/index.html.a69dbc98.js"><link rel="prefetch" href="/assets/index.html.8553c71d.js"><link rel="prefetch" href="/assets/index.html.ff43c24c.js"><link rel="prefetch" href="/assets/index.html.1d2e70e1.js"><link rel="prefetch" href="/assets/index.html.39cdf0bb.js"><link rel="prefetch" href="/assets/index.html.566f134f.js"><link rel="prefetch" href="/assets/index.html.d8c91a7b.js"><link rel="prefetch" href="/assets/index.html.56e4269e.js"><link rel="prefetch" href="/assets/index.html.b7437e5e.js"><link rel="prefetch" href="/assets/index.html.c7d84c97.js"><link rel="prefetch" href="/assets/index.html.b231d74f.js"><link rel="prefetch" href="/assets/index.html.33588dff.js"><link rel="prefetch" href="/assets/index.html.030bee50.js"><link rel="prefetch" href="/assets/index.html.6549a885.js"><link rel="prefetch" href="/assets/index.html.f3b45dea.js"><link rel="prefetch" href="/assets/index.html.8d381b82.js"><link rel="prefetch" href="/assets/index.html.baec0223.js"><link rel="prefetch" href="/assets/index.html.42a592d3.js"><link rel="prefetch" href="/assets/index.html.56dac7ad.js"><link rel="prefetch" href="/assets/index.html.6e85136e.js"><link rel="prefetch" href="/assets/index.html.0ef40a24.js"><link rel="prefetch" href="/assets/index.html.42a3f806.js"><link rel="prefetch" href="/assets/index.html.a4484324.js"><link rel="prefetch" href="/assets/index.html.8da7fe31.js"><link rel="prefetch" href="/assets/index.html.f67a224a.js"><link rel="prefetch" href="/assets/index.html.81f3fd0c.js"><link rel="prefetch" href="/assets/index.html.952f5eed.js"><link rel="prefetch" href="/assets/index.html.7d9feba3.js"><link rel="prefetch" href="/assets/index.html.e92296c2.js"><link rel="prefetch" href="/assets/index.html.86687027.js"><link rel="prefetch" href="/assets/index.html.c40815ea.js"><link rel="prefetch" href="/assets/index.html.9af3d40e.js"><link rel="prefetch" href="/assets/index.html.4d8b74a7.js"><link rel="prefetch" href="/assets/index.html.1e045b4c.js"><link rel="prefetch" href="/assets/index.html.44269c37.js"><link rel="prefetch" href="/assets/index.html.0c209a75.js"><link rel="prefetch" href="/assets/index.html.095ce38d.js"><link rel="prefetch" href="/assets/index.html.2215aa7b.js"><link rel="prefetch" href="/assets/index.html.35056314.js"><link rel="prefetch" href="/assets/index.html.095c60d2.js"><link rel="prefetch" href="/assets/index.html.ba0004cc.js"><link rel="prefetch" href="/assets/index.html.86e65507.js"><link rel="prefetch" href="/assets/index.html.57866895.js"><link rel="prefetch" href="/assets/index.html.f8cc4b05.js"><link rel="prefetch" href="/assets/home.html.cfe2dc75.js"><link rel="prefetch" href="/assets/index.html.6cfc377f.js"><link rel="prefetch" href="/assets/index.html.6422ceda.js"><link rel="prefetch" href="/assets/index.html.7e73ad5c.js"><link rel="prefetch" href="/assets/articles.html.2412d129.js"><link rel="prefetch" href="/assets/blogs.html.58b6e4a1.js"><link rel="prefetch" href="/assets/books.html.fd25074c.js"><link rel="prefetch" href="/assets/docs.html.e92e6018.js"><link rel="prefetch" href="/assets/index.html.9880dc16.js"><link rel="prefetch" href="/assets/index.html.4ed66b19.js"><link rel="prefetch" href="/assets/index.html.bae8d9cf.js"><link rel="prefetch" href="/assets/01-jdk.html.be46b8da.js"><link rel="prefetch" href="/assets/02-git.html.77ecc3ba.js"><link rel="prefetch" href="/assets/03-idea.html.288d39af.js"><link rel="prefetch" href="/assets/04-vscode.html.1a545cd5.js"><link rel="prefetch" href="/assets/05-maven.html.bbd66240.js"><link rel="prefetch" href="/assets/06-gradle.html.5b1de366.js"><link rel="prefetch" href="/assets/07-markdown.html.117cf050.js"><link rel="prefetch" href="/assets/10-log.html.4f975ac6.js"><link rel="prefetch" href="/assets/20-office.html.608329a0.js"><link rel="prefetch" href="/assets/index.html.36403e8b.js"><link rel="prefetch" href="/assets/regex.html.c791f03b.js"><link rel="prefetch" href="/assets/index.html.d9e8c785.js"><link rel="prefetch" href="/assets/other.html.899716ef.js"><link rel="prefetch" href="/assets/search.html.a13be1ea.js"><link rel="prefetch" href="/assets/sort.html.57f43a74.js"><link rel="prefetch" href="/assets/index.html.a9b5a992.js"><link rel="prefetch" href="/assets/principle.html.215cd3e8.js"><link rel="prefetch" href="/assets/index.html.0587419d.js"><link rel="prefetch" href="/assets/graph.html.7066088e.js"><link rel="prefetch" href="/assets/linear.html.d6bb5b9c.js"><link rel="prefetch" href="/assets/overview.html.bcbd11a4.js"><link rel="prefetch" href="/assets/tree.html.359df90d.js"><link rel="prefetch" href="/assets/index.html.aa779ed5.js"><link rel="prefetch" href="/assets/mybatis-spring.html.27e63425.js"><link rel="prefetch" href="/assets/mybatis-springboot.html.6dcacc6b.js"><link rel="prefetch" href="/assets/index.html.bf24bedf.js"><link rel="prefetch" href="/assets/mysql-ddl.html.7bf85a48.js"><link rel="prefetch" href="/assets/mysql-install.html.612f951f.js"><link rel="prefetch" href="/assets/index.html.d4670cca.js"><link rel="prefetch" href="/assets/started.html.ecc209b0.js"><link rel="prefetch" href="/assets/01-feature.html.3cd92624.js"><link rel="prefetch" href="/assets/02-datatype.html.03dfc25b.js"><link rel="prefetch" href="/assets/03-string.html.eb5ebb3d.js"><link rel="prefetch" href="/assets/04-annotation.html.f55d0ef1.js"><link rel="prefetch" href="/assets/index.html.b7f0e6cc.js"><link rel="prefetch" href="/assets/01-ArrayList.html.9ff78830.js"><link rel="prefetch" href="/assets/02-LinkedList.html.2a2934d5.js"><link rel="prefetch" href="/assets/03-HashMap.html.334ef2a3.js"><link rel="prefetch" href="/assets/04-LinkedHashMap.html.830e19f9.js"><link rel="prefetch" href="/assets/05-HashSet.html.ada72fb4.js"><link rel="prefetch" href="/assets/06-LinkedHashSet.html.89e48608.js"><link rel="prefetch" href="/assets/07-TreeMap.html.c0ab86b6.js"><link rel="prefetch" href="/assets/08-TreeSet.html.cd9d635a.js"><link rel="prefetch" href="/assets/index.html.362c4655.js"><link rel="prefetch" href="/assets/01-thread.html.64635b23.js"><link rel="prefetch" href="/assets/index.html.3d929c7d.js"><link rel="prefetch" href="/assets/index.html.42c55ce4.js"><link rel="prefetch" href="/assets/01-structure.html.b8dea4bf.js"><link rel="prefetch" href="/assets/02-ioc.html.cd187739.js"><link rel="prefetch" href="/assets/03-aop.html.dc175c18.js"><link rel="prefetch" href="/assets/04-springmvc.html.3a807c20.js"><link rel="prefetch" href="/assets/05-annotation.html.20f1f560.js"><link rel="prefetch" href="/assets/11-resources.html.3aab8eeb.js"><link rel="prefetch" href="/assets/21-validation.html.f51fc567.js"><link rel="prefetch" href="/assets/31-spel.html.8c4d6490.js"><link rel="prefetch" href="/assets/41-data-access-transaction.html.f65e10f3.js"><link rel="prefetch" href="/assets/index.html.1dac0c3d.js"><link rel="prefetch" href="/assets/01-using.html.5302e135.js"><link rel="prefetch" href="/assets/02-starter.html.8b749521.js"><link rel="prefetch" href="/assets/11-swagger.html.3a5d1e5e.js"><link rel="prefetch" href="/assets/index.html.e1ce0bdb.js"><link rel="prefetch" href="/assets/index.html.9149a9b4.js"><link rel="prefetch" href="/assets/nacos.html.57c03798.js"><link rel="prefetch" href="/assets/index.html.7b088ae5.js"><link rel="prefetch" href="/assets/index.html.772f3875.js"><link rel="prefetch" href="/assets/chain.html.7a12466e.js"><link rel="prefetch" href="/assets/AbstractFactory.html.5fca4d95.js"><link rel="prefetch" href="/assets/Builder.html.77171bcb.js"><link rel="prefetch" href="/assets/FactoryMethod.html.03fdeaf2.js"><link rel="prefetch" href="/assets/Prototype.html.4e20085a.js"><link rel="prefetch" href="/assets/index.html.a83aca23.js"><link rel="prefetch" href="/assets/SimpleFactory.html.397f0d3e.js"><link rel="prefetch" href="/assets/Singleton.html.c8484bc3.js"><link rel="prefetch" href="/assets/Adapter.html.f41e0460.js"><link rel="prefetch" href="/assets/Facade.html.72e51fed.js"><link rel="prefetch" href="/assets/index.html.400d09ef.js"><link rel="prefetch" href="/assets/structural.html.5e9a932d.js"><link rel="prefetch" href="/assets/index.html.817c4095.js"><link rel="prefetch" href="/assets/array.html.4e90699b.js"><link rel="prefetch" href="/assets/001-ä¸¤æ•°ä¹‹å’Œ.html.a5eb14a3.js"><link rel="prefetch" href="/assets/011-ç››æœ€å¤šæ°´çš„å®¹å™¨.html.f7524f4a.js"><link rel="prefetch" href="/assets/283-ç§»åŠ¨é›¶.html.b7938c4f.js"><link rel="prefetch" href="/assets/485-æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°.html.53b8254e.js"><link rel="prefetch" href="/assets/645-é”™è¯¯çš„é›†åˆ.html.b53d54d8.js"><link rel="prefetch" href="/assets/697-æ•°ç»„çš„åº¦.html.2f73c9a2.js"><link rel="prefetch" href="/assets/index.html.4d6c4a63.js"><link rel="prefetch" href="/assets/404.html.54df9c87.js"><link rel="prefetch" href="/assets/index.html.e9caab92.js"><link rel="prefetch" href="/assets/index.html.a7f6b8eb.js"><link rel="prefetch" href="/assets/index.html.1d954ac2.js"><link rel="prefetch" href="/assets/index.html.6444dd79.js"><link rel="prefetch" href="/assets/index.html.be1bca40.js"><link rel="prefetch" href="/assets/index.html.0a62f654.js"><link rel="prefetch" href="/assets/index.html.49918bd6.js"><link rel="prefetch" href="/assets/index.html.376085cb.js"><link rel="prefetch" href="/assets/index.html.fc08e094.js"><link rel="prefetch" href="/assets/index.html.ede70ebd.js"><link rel="prefetch" href="/assets/index.html.a07b4979.js"><link rel="prefetch" href="/assets/index.html.9fcf2e30.js"><link rel="prefetch" href="/assets/index.html.f6f6594c.js"><link rel="prefetch" href="/assets/index.html.725a6119.js"><link rel="prefetch" href="/assets/index.html.08366c2d.js"><link rel="prefetch" href="/assets/index.html.2e1d9755.js"><link rel="prefetch" href="/assets/index.html.900e4537.js"><link rel="prefetch" href="/assets/index.html.68458f0e.js"><link rel="prefetch" href="/assets/index.html.7425164b.js"><link rel="prefetch" href="/assets/index.html.2245e99e.js"><link rel="prefetch" href="/assets/index.html.996e0754.js"><link rel="prefetch" href="/assets/index.html.0fd646b0.js"><link rel="prefetch" href="/assets/index.html.fecb4fca.js"><link rel="prefetch" href="/assets/index.html.15680521.js"><link rel="prefetch" href="/assets/index.html.1d5199d7.js"><link rel="prefetch" href="/assets/index.html.d21e750a.js"><link rel="prefetch" href="/assets/index.html.e2576971.js"><link rel="prefetch" href="/assets/index.html.5e17f2ad.js"><link rel="prefetch" href="/assets/index.html.52663b39.js"><link rel="prefetch" href="/assets/index.html.bcf864ea.js"><link rel="prefetch" href="/assets/index.html.0eb99cbe.js"><link rel="prefetch" href="/assets/index.html.44456161.js"><link rel="prefetch" href="/assets/index.html.e2797058.js"><link rel="prefetch" href="/assets/index.html.1b994b54.js"><link rel="prefetch" href="/assets/index.html.0e63378d.js"><link rel="prefetch" href="/assets/index.html.bb433a33.js"><link rel="prefetch" href="/assets/index.html.d52500cf.js"><link rel="prefetch" href="/assets/index.html.2caea2aa.js"><link rel="prefetch" href="/assets/index.html.ebcbe968.js"><link rel="prefetch" href="/assets/index.html.11dac954.js"><link rel="prefetch" href="/assets/index.html.4bc3b237.js"><link rel="prefetch" href="/assets/index.html.ec8a12e4.js"><link rel="prefetch" href="/assets/index.html.9bca4e28.js"><link rel="prefetch" href="/assets/index.html.5dab653c.js"><link rel="prefetch" href="/assets/index.html.123127b5.js"><link rel="prefetch" href="/assets/index.html.7942af3f.js"><link rel="prefetch" href="/assets/index.html.f98a7804.js"><link rel="prefetch" href="/assets/index.html.dbf524b8.js"><link rel="prefetch" href="/assets/index.html.40d030c5.js"><link rel="prefetch" href="/assets/index.html.7e28c858.js"><link rel="prefetch" href="/assets/index.html.1bdb46b7.js"><link rel="prefetch" href="/assets/index.html.927762df.js"><link rel="prefetch" href="/assets/index.html.3237649e.js"><link rel="prefetch" href="/assets/index.html.c417ba63.js"><link rel="prefetch" href="/assets/index.html.c52e4d95.js"><link rel="prefetch" href="/assets/index.html.b6898f56.js"><link rel="prefetch" href="/assets/index.html.16e2508c.js"><link rel="prefetch" href="/assets/index.html.14defe3b.js"><link rel="prefetch" href="/assets/index.html.7234766b.js"><link rel="prefetch" href="/assets/auto.264f6c8c.js"><link rel="prefetch" href="/assets/index.cac02f97.js"><link rel="prefetch" href="/assets/flowchart.parse.ee90d7e0.js"><link rel="prefetch" href="/assets/mermaid.esm.min.e3b5d21d.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/VuePlayground.dcc4c4c7.js"><link rel="prefetch" href="/assets/photoswipe.esm.382b1873.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="AlexChen&#39;s Blog"><!----><span class="site-name hide-in-pad">AlexChen&#39;s Blog</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><span class="icon iconfont icon-home"></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="åšå®¢ä¸»é¡µ"><span class="icon iconfont icon-blog"></span>åšå®¢ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/java/" class="nav-link" aria-label="Javaæ ¸å¿ƒ"><span class="icon iconfont icon-java"></span>Javaæ ¸å¿ƒ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/spring/" class="nav-link" aria-label="Springç³»åˆ—"><span class="icon iconfont icon-alias"></span>Springç³»åˆ—<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/advance/" class="nav-link" aria-label="è®¡ç®—æœºåŸºç¡€"><span class="icon iconfont icon-advance"></span>è®¡ç®—æœºåŸºç¡€<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/db/" class="nav-link active" aria-label="æ•°æ®åº“"><span class="icon iconfont icon-mysql"></span>æ•°æ®åº“<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/book/" class="nav-link" aria-label="ç¼–ç¨‹èµ„æº"><span class="icon iconfont icon-list"></span>ç¼–ç¨‹èµ„æº<!----></a></div><div class="nav-item hide-in-mobile"><a href="/md/tool/" class="nav-link" aria-label="å¼€å‘å·¥å…·"><span class="icon iconfont icon-tool"></span>å¼€å‘å·¥å…·<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/AlexChen68/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-mysql"></span><span class="title">Mysql æ•°æ®åº“</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/md/db/mysql/mysql-ddl.html" class="nav-link sidebar-link sidebar-page" aria-label="Mysql DDL"><span class="icon iconfont icon-blog"></span>Mysql DDL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/db/mysql/mysql-install.html" class="nav-link sidebar-link sidebar-page" aria-label="Mysql çš„å®‰è£…å’Œå¸è½½"><!---->Mysql çš„å®‰è£…å’Œå¸è½½<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-java"></span><span class="title">Redis æ•°æ®åº“</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/md/db/redis/started.html" class="nav-link sidebar-link sidebar-page" aria-label="å¼€å§‹ä½¿ç”¨ Redis"><!---->å¼€å§‹ä½¿ç”¨ Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-mysql"></span><span class="title">ORM æ¡†æ¶</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/md/db/mybatis/mybatis.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Mybatis"><!---->Mybatis<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#mybatis-æ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mybatis æ¦‚è¿°"><!---->Mybatis æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#mybatis-è¿è¡ŒåŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mybatis è¿è¡ŒåŸç†"><!---->Mybatis è¿è¡ŒåŸç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å¼•å…¥-mybatis" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼•å…¥ Mybatis"><!---->å¼•å…¥ Mybatis<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#xml-é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="XML é…ç½®"><!---->XML é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å±æ€§-properties" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å±æ€§ï¼ˆpropertiesï¼‰"><!---->å±æ€§ï¼ˆpropertiesï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#è®¾ç½®-settings" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è®¾ç½®ï¼ˆsettingsï¼‰"><!---->è®¾ç½®ï¼ˆsettingsï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç±»å‹åˆ«å-typealiases" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"><!---->ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç¯å¢ƒé…ç½®-environments" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"><!---->ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#æ˜ å°„å™¨-mappers" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ˜ å°„å™¨ï¼ˆmappersï¼‰"><!---->æ˜ å°„å™¨ï¼ˆmappersï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#xml-æ˜ å°„æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="XML æ˜ å°„æ–‡ä»¶"><!---->XML æ˜ å°„æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#namespace" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="namespace"><!---->namespace<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#select" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="select"><!---->select<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#insert-update-å’Œ-delete" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="insert, update å’Œ delete"><!---->insert, update å’Œ delete<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SQL"><!---->SQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å‚æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚æ•°"><!---->å‚æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å­—ç¬¦ä¸²æ›¿æ¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å­—ç¬¦ä¸²æ›¿æ¢"><!---->å­—ç¬¦ä¸²æ›¿æ¢<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç»“æœæ˜ å°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»“æœæ˜ å°„"><!---->ç»“æœæ˜ å°„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#è‡ªåŠ¨æ˜ å°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªåŠ¨æ˜ å°„"><!---->è‡ªåŠ¨æ˜ å°„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç¼“å­˜"><!---->ç¼“å­˜<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#åŠ¨æ€-sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€ SQL"><!---->åŠ¨æ€ SQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#if" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="if"><!---->if<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#chooseã€whenã€otherwise" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="chooseã€whenã€otherwise"><!---->chooseã€whenã€otherwise<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#trimã€whereã€set" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="trimã€whereã€set"><!---->trimã€whereã€set<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#foreach" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="foreach"><!---->foreach<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#script" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="script"><!---->script<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#bind" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="bind"><!---->bind<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#java-api" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Java API"><!---->Java API<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å‚è€ƒèµ„æ–™"><!---->å‚è€ƒèµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/md/db/mybatis/mybatis-spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis-Spring"><!---->Mybatis-Spring<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/db/mybatis/mybatis-springboot.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis-SpringBoot"><!---->Mybatis-SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Mybatis</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://github.com/AlexChen68" target="_blank" rel="noopener noreferrer">AlexChen</a></span><span property="author" content="AlexChen"></span></span><span class="origin">åŸåˆ›</span><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022å¹´10æœˆ21æ—¥</span><meta property="datePublished" content="2022-10-21T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category8 clickable" role="navigation">Mybatis</li><meta property="articleSection" content="Mybatis"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag8 clickable" role="navigation">Mybatis</li></ul><meta property="keywords" content="Mybatis"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 38 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT38M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#mybatis-æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level2">Mybatis æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#mybatis-è¿è¡ŒåŸç†" class="router-link-active router-link-exact-active toc-link level2">Mybatis è¿è¡ŒåŸç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å¼•å…¥-mybatis" class="router-link-active router-link-exact-active toc-link level2">å¼•å…¥ Mybatis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#xml-é…ç½®" class="router-link-active router-link-exact-active toc-link level2">XML é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å±æ€§-properties" class="router-link-active router-link-exact-active toc-link level3">å±æ€§ï¼ˆpropertiesï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#è®¾ç½®-settings" class="router-link-active router-link-exact-active toc-link level3">è®¾ç½®ï¼ˆsettingsï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç±»å‹åˆ«å-typealiases" class="router-link-active router-link-exact-active toc-link level3">ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç¯å¢ƒé…ç½®-environments" class="router-link-active router-link-exact-active toc-link level3">ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#æ˜ å°„å™¨-mappers" class="router-link-active router-link-exact-active toc-link level3">æ˜ å°„å™¨ï¼ˆmappersï¼‰</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#xml-æ˜ å°„æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level2">XML æ˜ å°„æ–‡ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#namespace" class="router-link-active router-link-exact-active toc-link level3">namespace</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#select" class="router-link-active router-link-exact-active toc-link level3">select</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#insert-update-å’Œ-delete" class="router-link-active router-link-exact-active toc-link level3">insert, update å’Œ delete</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#sql" class="router-link-active router-link-exact-active toc-link level3">SQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å­—ç¬¦ä¸²æ›¿æ¢" class="router-link-active router-link-exact-active toc-link level3">å­—ç¬¦ä¸²æ›¿æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç»“æœæ˜ å°„" class="router-link-active router-link-exact-active toc-link level3">ç»“æœæ˜ å°„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#è‡ªåŠ¨æ˜ å°„" class="router-link-active router-link-exact-active toc-link level3">è‡ªåŠ¨æ˜ å°„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">ç¼“å­˜</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#åŠ¨æ€-sql" class="router-link-active router-link-exact-active toc-link level2">åŠ¨æ€ SQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#if" class="router-link-active router-link-exact-active toc-link level3">if</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#chooseã€whenã€otherwise" class="router-link-active router-link-exact-active toc-link level3">chooseã€whenã€otherwise</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#trimã€whereã€set" class="router-link-active router-link-exact-active toc-link level3">trimã€whereã€set</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#foreach" class="router-link-active router-link-exact-active toc-link level3">foreach</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#script" class="router-link-active router-link-exact-active toc-link level3">script</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#bind" class="router-link-active router-link-exact-active toc-link level3">bind</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#java-api" class="router-link-active router-link-exact-active toc-link level2">Java API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/db/mybatis/mybatis.html#å‚è€ƒèµ„æ–™" class="router-link-active router-link-exact-active toc-link level2">å‚è€ƒèµ„æ–™</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="mybatis-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#mybatis-æ¦‚è¿°" aria-hidden="true">#</a> Mybatis æ¦‚è¿°</h2><blockquote><p>æœ¬ç« èŠ‚åŸºäº <a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer">Mybatis3 å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ç¼–å†™ï¼Œä»‹ç»æ™®é€š Java é¡¹ç›®ä½¿ç”¨ Mybatis çš„æ–¹å¼ï¼Œä»¥åŠ Mybatis çš„åŸºæœ¬é…ç½®å’ŒåŠŸèƒ½ã€‚</p></blockquote><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚</p><p>MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚</p><p>MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</p><p>Mybatis çš„ç‰¹ç‚¹ï¼š</p><ul><li>ç®€å•æ˜“å­¦ï¼šæœ¬èº«å°±å¾ˆå°ä¸”ç®€å•ã€‚æ²¡æœ‰ä»»ä½•ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œæœ€ç®€å•å®‰è£…åªè¦ä¸¤ä¸ªjaræ–‡ä»¶+é…ç½®å‡ ä¸ªsqlæ˜ å°„æ–‡ä»¶ã€‚æ˜“äºå­¦ä¹ ï¼Œæ˜“äºä½¿ç”¨ã€‚é€šè¿‡æ–‡æ¡£å’Œæºä»£ç ï¼Œå¯ä»¥æ¯”è¾ƒå®Œå…¨çš„æŒæ¡å®ƒçš„è®¾è®¡æ€è·¯å’Œå®ç°ã€‚``</li><li>çµæ´»ï¼šmybatisä¸ä¼šå¯¹åº”ç”¨ç¨‹åºæˆ–è€…æ•°æ®åº“çš„ç°æœ‰è®¾è®¡å¼ºåŠ ä»»ä½•å½±å“ã€‚ sqlå†™åœ¨xmlé‡Œï¼Œä¾¿äºç»Ÿä¸€ç®¡ç†å’Œä¼˜åŒ–ã€‚é€šè¿‡sqlè¯­å¥å¯ä»¥æ»¡è¶³æ“ä½œæ•°æ®åº“çš„æ‰€æœ‰éœ€æ±‚ã€‚</li><li>è§£é™¤sqlä¸ç¨‹åºä»£ç çš„è€¦åˆï¼šé€šè¿‡æä¾›DAOå±‚ï¼Œå°†ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®è®¿é—®é€»è¾‘åˆ†ç¦»ï¼Œä½¿ç³»ç»Ÿçš„è®¾è®¡æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤ï¼Œæ›´æ˜“å•å…ƒæµ‹è¯•ã€‚sqlå’Œä»£ç çš„åˆ†ç¦»ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</li><li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ormå­—æ®µå…³ç³»æ˜ å°„ã€‚</li><li>æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„å»ºç»´æŠ¤ã€‚</li><li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlã€‚</li></ul><h2 id="mybatis-è¿è¡ŒåŸç†" tabindex="-1"><a class="header-anchor" href="#mybatis-è¿è¡ŒåŸç†" aria-hidden="true">#</a> Mybatis è¿è¡ŒåŸç†</h2><p><img src="https://cdn.jsdelivr.net/gh/AlexChen68/images@master/blog/db/mybatis-process.png" alt="Mybatisè¿è¡ŒåŸç†" loading="lazy"></p><h2 id="å¼•å…¥-mybatis" tabindex="-1"><a class="header-anchor" href="#å¼•å…¥-mybatis" aria-hidden="true">#</a> å¼•å…¥ Mybatis</h2><ul><li><p>å°† <a href="https://github.com/mybatis/mybatis-3/releases" target="_blank" rel="noopener noreferrer">mybatis-x.x.x.jar<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ–‡ä»¶ç½®äºç±»è·¯å¾„ï¼ˆclasspathï¼‰ä¸­å³å¯</p></li><li><p>å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ Maven å¼•å…¥æ™®é€šçš„ Mybatis ç‰ˆæœ¬</p></li></ul><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>version<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="xml-é…ç½®" tabindex="-1"><a class="header-anchor" href="#xml-é…ç½®" aria-hidden="true">#</a> XML é…ç½®</h2><p>Mybatis ä½¿ç”¨ XML æ–‡ä»¶é…ç½®å…¨å±€é…ç½®ï¼ŒMyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚ é…ç½®æ–‡æ¡£çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼ˆåŠ ç²—çš„ä¸ºå¸¸ç”¨é…ç½®ï¼‰ï¼š</p><ul><li>configurationï¼ˆé…ç½®ï¼‰ <ul><li><strong>properties</strong>ï¼ˆå±æ€§ï¼‰</li><li><strong>settings</strong>ï¼ˆè®¾ç½®ï¼‰</li><li><strong>typeAliases</strong>ï¼ˆç±»å‹åˆ«åï¼‰</li><li>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</li><li>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</li><li>pluginsï¼ˆæ’ä»¶ï¼‰</li><li><strong>environments</strong>ï¼ˆç¯å¢ƒé…ç½®ï¼‰ <ul><li>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰ <ul><li>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</li><li>dataSourceï¼ˆæ•°æ®æºï¼‰</li></ul></li></ul></li><li>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</li><li><strong>mappers</strong>ï¼ˆæ˜ å°„å™¨ï¼‰</li></ul></li></ul><p>XML é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆmybatis-config.xmlï¼‰ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å±æ€§é…ç½® --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application.yml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- mybatis è®¾ç½® --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- æŒ‡å®šæ—¥å¿—æ¡†æ¶ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SLF4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- ç±»å‹åˆ«å --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.entity.SysUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- ç±»å‹å¤„ç†å™¨ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeHandlers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeHandler</span> <span class="token attr-name">handler</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.config.StringTypeHandler<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeHandlers</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- å¯¹è±¡å·¥å‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>objectFactory</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.config.SysUserObjectFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>someProperty<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>objectFactory</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- æ’ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.config.MyPlugin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>someProperty<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- com.github.pagehelperä¸ºPageHelperç±»æ‰€åœ¨åŒ…å --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span> <span class="token attr-name">interceptor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.github.pagehelper.PageInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼é…ç½®å‚æ•°ï¼Œåé¢ä¼šæœ‰æ‰€æœ‰çš„å‚æ•°ä»‹ç» --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>param1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- ç¯å¢ƒé…ç½® --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!-- è·³è¿‡è¿æ¥å…³é—­æ—¶è‡ªåŠ¨æäº¤äº‹åŠ¡ --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>skipSetAutoCommitOnClose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- å¦‚æœä¸€ä¸ªå±æ€§åœ¨ä¸åªä¸€ä¸ªåœ°æ–¹è¿›è¡Œäº†é…ç½®ï¼Œé‚£ä¹ˆï¼ŒMyBatis å°†æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ¥åŠ è½½ï¼š --&gt;</span>
            <span class="token comment">&lt;!-- 1. é¦–å…ˆè¯»å–åœ¨ properties å…ƒç´ ä½“å†…æŒ‡å®šçš„å±æ€§ã€‚ --&gt;</span>
            <span class="token comment">&lt;!-- 2. ç„¶åæ ¹æ® properties å…ƒç´ ä¸­çš„ resource å±æ€§è¯»å–ç±»è·¯å¾„ä¸‹å±æ€§æ–‡ä»¶ï¼Œæˆ–æ ¹æ® url å±æ€§æŒ‡å®šçš„è·¯å¾„è¯»å–å±æ€§æ–‡ä»¶ï¼Œå¹¶è¦†ç›–ä¹‹å‰è¯»å–è¿‡çš„åŒåå±æ€§ã€‚ --&gt;</span>
            <span class="token comment">&lt;!-- 3. æœ€åè¯»å–ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’çš„å±æ€§ï¼Œå¹¶è¦†ç›–ä¹‹å‰è¯»å–è¿‡çš„åŒåå±æ€§ã€‚ --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- mapperæ–‡ä»¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapper/SysUserMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token comment">&lt;!-- ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å --&gt;</span>
        <span class="token comment">&lt;!-- &lt;mapper class=&quot;tech.alexchen.mybatis.mapper.SysUserMapper&quot;/&gt; --&gt;</span>
        <span class="token comment">&lt;!-- å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨ --&gt;</span>
        <span class="token comment">&lt;!-- &lt;package name=&quot;tech.alexchen.mybatis.mapper&quot;/&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼šè¿™äº›æ ‡ç­¾çš„å¿…é¡»æŒ‰ç…§è¦æ±‚çš„é¡ºåºï¼Œå¦åˆ™ä¼šæç¤ºé”™è¯¯ï¼</strong></p><h3 id="å±æ€§-properties" tabindex="-1"><a class="header-anchor" href="#å±æ€§-properties" aria-hidden="true">#</a> å±æ€§ï¼ˆpropertiesï¼‰</h3><p><code>&lt;properties&gt;</code> æ ‡ç­¾å¯ä»¥é€šè¿‡ <code>resources</code> å±æ€§ä» Java å±æ€§æ–‡ä»¶ä¸­å¼•å…¥å±æ€§é…ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨å­æ ‡ç­¾ <code>&lt;property&gt;</code> ä¸­è®¾ç½®å±æ€§ï¼Œå±æ€§å¯ä»¥é€šè¿‡ <code>${propertyName}</code> çš„æ–¹å¼ä½¿ç”¨ã€‚è®¾ç½®å¥½çš„å±æ€§å¯ä»¥åœ¨æ•´ä¸ªé…ç½®æ–‡ä»¶ä¸­ç”¨æ¥æ›¿æ¢éœ€è¦åŠ¨æ€é…ç½®çš„å±æ€§å€¼ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>application.yml<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>property<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>propertyValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="è®¾ç½®-settings" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®-settings" aria-hidden="true">#</a> è®¾ç½®ï¼ˆsettingsï¼‰</h3><p><code>settings</code> ä¸­é…ç½® Mybatis è¿è¡Œæ—¶çš„å…¨å±€é…ç½®ï¼Œè¿™é‡Œé…ç½®ä¼šé€šè¿‡<code>org.apache.ibatis.session.Configuration</code> ç±»çš„å®ä¾‹å­˜å‚¨ï¼Œåœ¨ Mybatis çš„æ•´ä¸ªæµç¨‹ä¸­è¢«ä½¿ç”¨ã€‚å…·ä½“é…ç½®è§å®˜æ–¹æ–‡æ¡£ <a href="https://mybatis.org/mybatis-3/zh/configuration.html#%E8%AE%BE%E7%BD%AE%EF%BC%88settings%EF%BC%89" target="_blank" rel="noopener noreferrer">è®¾ç½®ï¼ˆsettingsï¼‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æŒ‡å®šæ—¥å¿—æ¡†æ¶ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SLF4J<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç±»å‹åˆ«å-typealiases" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åˆ«å-typealiases" aria-hidden="true">#</a> ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h3><p>ç±»å‹åˆ«åå¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ã€‚ å®ƒä»…ç”¨äº XML é…ç½®ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.entity.SysUser<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>åœ¨é…ç½® XML æ˜ å°„æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>User</code> æ›¿ä»£å…¶å…¨é™å®šç±»åã€‚</p><h3 id="ç¯å¢ƒé…ç½®-environments" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒé…ç½®-environments" aria-hidden="true">#</a> ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</h3><p>MyBatis å¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒï¼Œè¿™ç§æœºåˆ¶æœ‰åŠ©äºå°† SQL æ˜ å°„åº”ç”¨äºå¤šç§æ•°æ®åº“ä¹‹ä¸­ï¼Œ ç°å®æƒ…å†µä¸‹æœ‰å¤šç§ç†ç”±éœ€è¦è¿™ä¹ˆåšã€‚ä¾‹å¦‚ï¼Œå¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒéœ€è¦æœ‰ä¸åŒçš„é…ç½®ï¼›æˆ–è€…æƒ³åœ¨å…·æœ‰ç›¸åŒ Schema çš„å¤šä¸ªç”Ÿäº§æ•°æ®åº“ä¸­ä½¿ç”¨ç›¸åŒçš„ SQL æ˜ å°„ã€‚è¿˜æœ‰è®¸å¤šç±»ä¼¼çš„ä½¿ç”¨åœºæ™¯ã€‚</p><p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>æ¯ä¸€ä¸ª <code>&lt;environment&gt;</code> å­æ ‡ç­¾è¡¨ç¤ºä¸€ä¸ªæ•°æ®åº“ç¯å¢ƒï¼Œå…¶ <code>id</code> å±æ€§æ˜¯å…¶æ ‡è¯†ï¼Œå¯ä»¥åœ¨ <code>&lt;environments&gt;</code> æ ‡ç­¾ä¸­é€šè¿‡ <code>default</code> å±æ€§æŒ‡å®šé»˜è®¤çš„æ•°æ®åº“ï¼Œè¿™æ ·ï¼ŒMybatis åœ¨è¿›è¡Œæ•°æ®åº“è¿æ¥æ—¶ï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡å‚æ•°æŒ‡å®šç‰¹å®šçš„æ•°æ®åº“ï¼Œåˆ™ä¼šä½¿ç”¨è¯¥é»˜è®¤æ•°æ®åº“ä¿¡æ¯è¿›è¡Œè¿æ¥ã€‚</p></li><li><p><code>&lt;transactionManager&gt;</code> å¯ä»¥é…ç½®ä½¿ç”¨çš„äº‹ç‰©ç®¡ç†ï¼Œåœ¨ MyBatis ä¸­æœ‰ä¸¤ç§ç±»å‹çš„äº‹åŠ¡ç®¡ç†å™¨ï¼š <code>JDBC</code>å’Œ <code>MANAGED</code>ï¼Œåœ¨ä½¿ç”¨ Spring æ—¶æ— éœ€é…ç½®ï¼Œå› ä¸º Spring ä¼šè¦†ç›–å®ƒã€‚</p><ul><li><p>JDBC â€“ è¿™ä¸ªé…ç½®ç›´æ¥ä½¿ç”¨äº† JDBC çš„æäº¤å’Œå›æ»šåŠŸèƒ½ï¼Œå®ƒä¾èµ–ä»æ•°æ®æºè·å¾—çš„è¿æ¥æ¥ç®¡ç†äº‹åŠ¡ä½œç”¨åŸŸï¼›é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåœ¨å…³é—­è¿æ¥æ—¶å¯ç”¨è‡ªåŠ¨æäº¤ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å…³é—­å®ƒï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>skipSetAutoCommitOnClose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>MANAGED â€“ è¿™ä¸ªé…ç½®å‡ ä¹æ²¡åšä»€ä¹ˆã€‚å®ƒä»ä¸æäº¤æˆ–å›æ»šä¸€ä¸ªè¿æ¥ï¼Œè€Œæ˜¯è®©å®¹å™¨æ¥ç®¡ç†äº‹åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸã€‚é»˜è®¤æƒ…å†µä¸‹å®ƒä¼šå…³é—­è¿æ¥ï¼Œå¯ä»¥å°† closeConnection å±æ€§è®¾ç½®ä¸º false æ¥é˜»æ­¢é»˜è®¤çš„å…³é—­è¡Œä¸ºï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MANAGED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>closeConnection<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transactionManager</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li><li><p><code>&lt;dataSource&gt;</code> æ ‡ç­¾ç”¨æ¥é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå®ƒæœ‰ä¸€ä¸ª <code>type</code> å±æ€§ç”¨æ¥é…ç½®æ•°æ®æºç±»å‹ï¼Œæ”¯æŒä¸‰ç§æ•°æ®æºç±»å‹ï¼š</p><ul><li><strong>UNPOOLED</strong>ï¼šæ— æ•°æ®æ± ï¼Œè¿™ä¸ªæ•°æ®æºçš„å®ç°ä¼šæ¯æ¬¡è¯·æ±‚æ—¶æ‰“å¼€å’Œå…³é—­è¿æ¥ã€‚</li><li><strong>POOLED</strong>ï¼šä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ï¼Œè¿™ç§æ•°æ®æºçš„å®ç°åˆ©ç”¨â€œæ± â€çš„æ¦‚å¿µå°† JDBC è¿æ¥å¯¹è±¡ç»„ç»‡èµ·æ¥ï¼Œé¿å…äº†åˆ›å»ºæ–°çš„è¿æ¥å®ä¾‹æ—¶æ‰€å¿…éœ€çš„åˆå§‹åŒ–å’Œè®¤è¯æ—¶é—´ã€‚ è¿™ç§å¤„ç†æ–¹å¼å¾ˆæµè¡Œï¼Œèƒ½ä½¿å¹¶å‘ Web åº”ç”¨å¿«é€Ÿå“åº”è¯·æ±‚ã€‚</li><li><strong>JNDI</strong> ï¼šè¿™ä¸ªæ•°æ®æºå®ç°æ˜¯ä¸ºäº†èƒ½åœ¨å¦‚ EJB æˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­ä½¿ç”¨ï¼Œå®¹å™¨å¯ä»¥é›†ä¸­æˆ–åœ¨å¤–éƒ¨é…ç½®æ•°æ®æºï¼Œç„¶åæ”¾ç½®ä¸€ä¸ª JNDI ä¸Šä¸‹æ–‡çš„æ•°æ®æºå¼•ç”¨ã€‚</li></ul></li></ul><h3 id="æ˜ å°„å™¨-mappers" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„å™¨-mappers" aria-hidden="true">#</a> æ˜ å°„å™¨ï¼ˆmappersï¼‰</h3><p><code>&lt;mappers&gt;</code> æ˜¯éå¸¸é‡è¦çš„é…ç½®ï¼Œå®ƒç”¨æ¥é…ç½® MyBatis å»å“ªé‡Œæ‰¾æ˜ å°„æ–‡ä»¶ï¼Œæ”¯æŒå››ç§é…ç½®æ–¹å¼ï¼š</p><ul><li><p>ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/mybatis/builder/AuthorMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/mybatis/builder/BlogMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/mybatis/builder/PostMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file:///var/mappers/AuthorMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file:///var/mappers/BlogMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file:///var/mappers/PostMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.builder.AuthorMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.builder.BlogMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.builder.PostMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.builder<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul><h2 id="xml-æ˜ å°„æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#xml-æ˜ å°„æ–‡ä»¶" aria-hidden="true">#</a> XML æ˜ å°„æ–‡ä»¶</h2><p>XML æ˜ å°„æ–‡ä»¶ç”¨æ¥ç¼–å†™æ•°æ®åº“ SQL è¯­å¥ï¼Œä»¥åŠè¿›è¡Œç»“æ„é›†ä¸ Java å¯¹è±¡çš„æ˜ å°„ã€‚</p><p>SQL æ˜ å°„æ–‡ä»¶åªæœ‰å¾ˆå°‘çš„å‡ ä¸ªé¡¶çº§å…ƒç´ ï¼ˆæŒ‰ç…§åº”è¢«å®šä¹‰çš„é¡ºåºåˆ—å‡ºï¼‰ï¼š</p><ul><li><code>cache</code> â€“ è¯¥å‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚</li><li><code>cache-ref</code> â€“ å¼•ç”¨å…¶å®ƒå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚</li><li><code>resultMap</code> â€“ æè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­åŠ è½½å¯¹è±¡ï¼Œæ˜¯æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å…ƒç´ ã€‚</li><li><code>sql</code> â€“ å¯è¢«å…¶å®ƒè¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚</li><li><code>insert</code> â€“ æ˜ å°„æ’å…¥è¯­å¥ã€‚</li><li><code>update</code> â€“ æ˜ å°„æ›´æ–°è¯­å¥ã€‚</li><li><code>delete</code> â€“ æ˜ å°„åˆ é™¤è¯­å¥ã€‚</li><li><code>select</code> â€“ æ˜ å°„æŸ¥è¯¢è¯­å¥ã€‚</li></ul><p>ç¤ºä¾‹ï¼ˆSysUserMapper.xmlï¼‰ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tech.alexchen.mybatis.mapper.SysUserMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- column ä¸ºæ•°æ®åº“å­—æ®µåï¼Œproperty ä¸ºå®ä½“ç±»å±æ€§å --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>phone<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tenant_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tenantId<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="namespace" tabindex="-1"><a class="header-anchor" href="#namespace" aria-hidden="true">#</a> namespace</h3><p>å‘½åç©ºé—´ç”¨æ¥ç»‘å®š Mapper æ¥å£ï¼ˆå®šä¹‰æ•°æ®è®¿é—®æ–¹æ³•çš„æ¥å£ï¼‰ï¼Œä»é¡¹ç›®åˆ†å±‚çš„è§’åº¦æ¥è®²ï¼Œ<code>SysUserMapper.xml</code> å¯ä»¥è®¤ä¸ºæ˜¯ SysUserMapper çš„å®ç°ï¼Œå®ƒå®šä¹‰äº†æ¥å£æ–¹æ³•çš„å…·ä½“å®ç°ã€‚</p><p>å‘½åç©ºé—´åº”è¯¥æ˜¯å…¨å±€å”¯ä¸€çš„ã€‚</p><h3 id="select" tabindex="-1"><a class="header-anchor" href="#select" aria-hidden="true">#</a> select</h3><p>æŸ¥è¯¢è¯­å¥æ˜¯ MyBatis ä¸­æœ€å¸¸ç”¨çš„å…ƒç´ ä¹‹ä¸€â€”â€”å…‰èƒ½æŠŠæ•°æ®å­˜åˆ°æ•°æ®åº“ä¸­ä»·å€¼å¹¶ä¸å¤§ï¼Œè¿˜è¦èƒ½é‡æ–°å–å‡ºæ¥æ‰æœ‰ç”¨ï¼Œå¤šæ•°åº”ç”¨ä¹Ÿéƒ½æ˜¯æŸ¥è¯¢æ¯”ä¿®æ”¹è¦é¢‘ç¹ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectPerson<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM PERSON WHERE ID = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™ä¸ªè¯­å¥åä¸º selectPersonï¼Œæ¥å—ä¸€ä¸ª intï¼ˆæˆ– Integerï¼‰ç±»å‹çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª HashMap ç±»å‹çš„å¯¹è±¡ï¼Œå…¶ä¸­çš„é”®æ˜¯åˆ—åï¼Œå€¼ä¾¿æ˜¯ç»“æœè¡Œä¸­çš„å¯¹åº”å€¼ã€‚</p><p>å…¶ä¸­ï¼Œ<code>#{id}</code> è¡¨ç¤ºåˆ›å»ºé¢„å¤„ç†è¯­å¥ï¼Œåœ¨ JDBC ä¸­ï¼Œè¿™æ ·çš„ä¸€ä¸ªå‚æ•°åœ¨ SQL ä¸­ä¼šç”±ä¸€ä¸ª <code>?</code> æ¥æ ‡è¯†ï¼Œå¹¶è¢«ä¼ é€’åˆ°ä¸€ä¸ªæ–°çš„é¢„å¤„ç†è¯­å¥ä¸­ï¼Œæœ€åä½¿ç”¨æ–¹æ³•çš„è¾“å…¥å‚æ•° <code>id</code> è¿›è¡Œå¡«å……ï¼Œå°±åƒè¿™æ ·ï¼š</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token class-name">String</span> selectPerson <span class="token operator">=</span> <span class="token string">&quot;SELECT * FROM PERSON WHERE ID = ?&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>selectPerson<span class="token punctuation">)</span><span class="token punctuation">;</span>
ps<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>select</code> æœ‰å¾ˆå¤šçš„å±æ€§ï¼š</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;">åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td style="text-align:left;"><code>parameterType</code></td><td style="text-align:left;">å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>resultType</code></td><td style="text-align:left;">æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚ æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td style="text-align:left;"><code>resultMap</code></td><td style="text-align:left;">å¯¹å¤–éƒ¨ resultMap çš„å‘½åå¼•ç”¨ã€‚ç»“æœæ˜ å°„æ˜¯ MyBatis æœ€å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¦‚æœä½ å¯¹å…¶ç†è§£é€å½»ï¼Œè®¸å¤šå¤æ‚çš„æ˜ å°„é—®é¢˜éƒ½èƒ½è¿åˆƒè€Œè§£ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚</td></tr><tr><td style="text-align:left;"><code>flushCache</code></td><td style="text-align:left;">å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td></tr><tr><td style="text-align:left;"><code>useCache</code></td><td style="text-align:left;">å°†å…¶è®¾ç½®ä¸º true åï¼Œå°†ä¼šå¯¼è‡´æœ¬æ¡è¯­å¥çš„ç»“æœè¢«äºŒçº§ç¼“å­˜ç¼“å­˜èµ·æ¥ï¼Œé»˜è®¤å€¼ï¼šå¯¹ select å…ƒç´ ä¸º trueã€‚</td></tr><tr><td style="text-align:left;"><code>timeout</code></td><td style="text-align:left;">è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>fetchSize</code></td><td style="text-align:left;">è¿™æ˜¯ä¸€ä¸ªç»™é©±åŠ¨çš„å»ºè®®å€¼ï¼Œå°è¯•è®©é©±åŠ¨ç¨‹åºæ¯æ¬¡æ‰¹é‡è¿”å›çš„ç»“æœè¡Œæ•°ç­‰äºè¿™ä¸ªè®¾ç½®å€¼ã€‚ é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>statementType</code></td><td style="text-align:left;">å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr><tr><td style="text-align:left;"><code>resultSetType</code></td><td style="text-align:left;">FORWARD_ONLYï¼ŒSCROLL_SENSITIVE, SCROLL_INSENSITIVE æˆ– DEFAULTï¼ˆç­‰ä»·äº unsetï¼‰ ä¸­çš„ä¸€ä¸ªï¼Œé»˜è®¤å€¼ä¸º unset ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>databaseId</code></td><td style="text-align:left;">å¦‚æœé…ç½®äº†æ•°æ®åº“å‚å•†æ ‡è¯†ï¼ˆdatabaseIdProviderï¼‰ï¼ŒMyBatis ä¼šåŠ è½½æ‰€æœ‰ä¸å¸¦ databaseId æˆ–åŒ¹é…å½“å‰ databaseId çš„è¯­å¥ï¼›å¦‚æœå¸¦å’Œä¸å¸¦çš„è¯­å¥éƒ½æœ‰ï¼Œåˆ™ä¸å¸¦çš„ä¼šè¢«å¿½ç•¥ã€‚</td></tr><tr><td style="text-align:left;"><code>resultOrdered</code></td><td style="text-align:left;">è¿™ä¸ªè®¾ç½®ä»…é’ˆå¯¹åµŒå¥—ç»“æœ select è¯­å¥ï¼šå¦‚æœä¸º trueï¼Œåˆ™å‡è®¾ç»“æœé›†ä»¥æ­£ç¡®é¡ºåºï¼ˆæ’åºåï¼‰æ‰§è¡Œæ˜ å°„ï¼Œå½“è¿”å›æ–°çš„ä¸»ç»“æœè¡Œæ—¶ï¼Œå°†ä¸å†å‘ç”Ÿå¯¹ä»¥å‰ç»“æœè¡Œçš„å¼•ç”¨ã€‚ è¿™æ ·å¯ä»¥å‡å°‘å†…å­˜æ¶ˆè€—ã€‚é»˜è®¤å€¼ï¼š<code>false</code>ã€‚</td></tr><tr><td style="text-align:left;"><code>resultSets</code></td><td style="text-align:left;">è¿™ä¸ªè®¾ç½®ä»…é€‚ç”¨äºå¤šç»“æœé›†çš„æƒ…å†µã€‚å®ƒå°†åˆ—å‡ºè¯­å¥æ‰§è¡Œåè¿”å›çš„ç»“æœé›†å¹¶èµ‹äºˆæ¯ä¸ªç»“æœé›†ä¸€ä¸ªåç§°ï¼Œå¤šä¸ªåç§°ä¹‹é—´ä»¥é€—å·åˆ†éš”ã€‚</td></tr></tbody></table><p>ä¸€ä¸ªå…¨éƒ¨å±æ€§çš„ select æ ‡ç­¾ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectPerson<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">parameterMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deprecated<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashmap<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>personResultMap<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">flushCache</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">useCache</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">timeout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">fetchSize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>256<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">statementType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PREPARED<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">resultSetType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FORWARD_ONLY<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="insert-update-å’Œ-delete" tabindex="-1"><a class="header-anchor" href="#insert-update-å’Œ-delete" aria-hidden="true">#</a> insert, update å’Œ delete</h3><p>Insert, Update, Delete å…ƒç´ çš„å±æ€§ï¼š</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;">åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚</td></tr><tr><td style="text-align:left;"><code>parameterType</code></td><td style="text-align:left;">å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>parameterMap</code></td><td style="text-align:left;">ç”¨äºå¼•ç”¨å¤–éƒ¨ parameterMap çš„å±æ€§ï¼Œç›®å‰å·²è¢«åºŸå¼ƒã€‚è¯·ä½¿ç”¨è¡Œå†…å‚æ•°æ˜ å°„å’Œ parameterType å±æ€§ã€‚</td></tr><tr><td style="text-align:left;"><code>flushCache</code></td><td style="text-align:left;">å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šï¼ˆå¯¹ insertã€update å’Œ delete è¯­å¥ï¼‰trueã€‚</td></tr><tr><td style="text-align:left;"><code>timeout</code></td><td style="text-align:left;">è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>statementType</code></td><td style="text-align:left;">å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚</td></tr><tr><td style="text-align:left;"><code>useGeneratedKeys</code></td><td style="text-align:left;">ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</td></tr><tr><td style="text-align:left;"><code>keyProperty</code></td><td style="text-align:left;">ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰æŒ‡å®šèƒ½å¤Ÿå”¯ä¸€è¯†åˆ«å¯¹è±¡çš„å±æ€§ï¼ŒMyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æˆ– insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆ<code>unset</code>ï¼‰ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td></tr><tr><td style="text-align:left;"><code>keyColumn</code></td><td style="text-align:left;">ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è®¾ç½®ç”Ÿæˆé”®å€¼åœ¨è¡¨ä¸­çš„åˆ—åï¼Œåœ¨æŸäº›æ•°æ®åº“ï¼ˆåƒ PostgreSQLï¼‰ä¸­ï¼Œå½“ä¸»é”®åˆ—ä¸æ˜¯è¡¨ä¸­çš„ç¬¬ä¸€åˆ—çš„æ—¶å€™ï¼Œæ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚</td></tr><tr><td style="text-align:left;"><code>databaseId</code></td><td style="text-align:left;">å¦‚æœé…ç½®äº†æ•°æ®åº“å‚å•†æ ‡è¯†ï¼ˆdatabaseIdProviderï¼‰ï¼ŒMyBatis ä¼šåŠ è½½æ‰€æœ‰ä¸å¸¦ databaseId æˆ–åŒ¹é…å½“å‰ databaseId çš„è¯­å¥ï¼›å¦‚æœå¸¦å’Œä¸å¸¦çš„è¯­å¥éƒ½æœ‰ï¼Œåˆ™ä¸å¸¦çš„ä¼šè¢«å¿½ç•¥ã€‚</td></tr></tbody></table><p>åœ¨è¿›è¡Œæ•°æ®æ’å…¥æ—¶ï¼Œå¸¸å¸¸éœ€è¦å€ŸåŠ©æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆä¸»é”®ï¼ŒMybatis æä¾›äº†é…ç½®ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆ key çš„è®¾ç½® <code>useGeneratedKeys</code> å’ŒæŒ‡å®šè‡ªåŠ¨ç”Ÿæˆä¸»é”®å±æ€§çš„é…ç½® <code>keyProperty</code>ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insertAuthor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  insert into Author (username,password,email,bio)
  values (#{username},#{password},#{email},#{bio})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡è®¾è¿™ä¸ªæ–¹æ³•ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒè¿˜ä¼šå°†æ•°æ®åº“ç”Ÿæˆçš„ä¸»é”®å¡«å……åˆ°è¾“å…¥å¯¹è±¡çš„æŒ‡å®šå±æ€§ï¼Œä¾‹å¦‚è¿™é‡Œçš„ <code>id</code> ã€‚</p><p>å¦å¤–å¯ä»¥é€šè¿‡é…ç½® <code>selectKey</code> ç”¨æ¥åœ¨æ‰§è¡Œæ’å…¥å‰ï¼Œç”Ÿäº§ä¸»é”®å€¼å¹¶å¡«å……åˆ°å‚æ•°ä¸­ï¼Œå…·ä½“è§<a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#select-1" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><h3 id="sql" tabindex="-1"><a class="header-anchor" href="#sql" aria-hidden="true">#</a> SQL</h3><p>è¿™ä¸ªå…ƒç´ å¯ä»¥ç”¨æ¥å®šä¹‰å¯é‡ç”¨çš„ SQL ä»£ç ç‰‡æ®µï¼Œä»¥ä¾¿åœ¨å…¶å®ƒè¯­å¥ä¸­ä½¿ç”¨ã€‚ å‚æ•°å¯ä»¥é™æ€åœ°ï¼ˆåœ¨åŠ è½½çš„æ—¶å€™ï¼‰ç¡®å®šä¸‹æ¥ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒçš„ include å…ƒç´ ä¸­å®šä¹‰ä¸åŒçš„å‚æ•°å€¼ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ${alias}.id,${alias}.username,${alias}.password <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™ä¸ª SQL ç‰‡æ®µå¯ä»¥åœ¨å…¶å®ƒè¯­å¥ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUsers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alias<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>,
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alias<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
  from some_table t1
    cross join some_table t2
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å‚æ•°" aria-hidden="true">#</a> å‚æ•°</h3><p>åœ¨ CRUD çš„å››ä¸ªæ ‡ç­¾ä¸­ï¼Œéƒ½æœ‰éœ€è¦ä¼ å‚çš„åœºæ™¯ï¼Œé€šè¿‡ <code>parameterType</code> å¯ä»¥æŒ‡å®šæ–¹æ³•çš„è¾“å…¥å‚æ•°ã€‚å‚æ•°ä¼ å…¥æœ‰å‡ ç§æƒ…å†µï¼š</p><ul><li><p>åŸå§‹ç±»å‹æˆ–ç®€å•æ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚ <code>Integer</code> å’Œ <code>String</code>ï¼‰å› ä¸ºæ²¡æœ‰å…¶å®ƒå±æ€§ï¼Œä¼šç”¨å®ƒä»¬çš„å€¼æ¥ä½œä¸ºå‚æ•°ï¼Œå› æ­¤å¯ä»¥çœç•¥ <code>parameterType</code> é…ç½®ï¼›</p></li><li><p>å‚æ•°å¯¹ä¸€ä¸ªå¤æ‚å¯¹è±¡ï¼Œå¿…é¡»æŒ‡å®š <code>parameterType</code>ï¼›</p></li><li><p>å¯ä»¥åœ¨ SQL ä¸­æŒ‡å®šå‚æ•°ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code>#{age,javaType=int,jdbcType=NUMERIC,typeHandler=MyTypeHandler}
</code></pre></div><ul><li>æ³¨æ„ï¼šå½“æŸä¸ªå±æ€§å¯ä»¥ä¼ è¾“ null å¹¶å­˜å‚¨åˆ°æ•°æ®åº“æ—¶ï¼Œå¿…é¡»æŒ‡å®š <code>jdbcType</code> ï¼›</li><li>å½“å‚æ•°ä¸ºä¸€ä¸ª <code>HashMap</code> æ—¶ï¼Œéœ€è¦æ˜¾å¼æŒ‡å®š <code>javaType</code> æ¥ç¡®ä¿æ­£ç¡®çš„ç±»å‹å¤„ç†å™¨ï¼ˆ<code>TypeHandler</code>ï¼‰è¢«ä½¿ç”¨ã€‚</li></ul></li></ul><h3 id="å­—ç¬¦ä¸²æ›¿æ¢" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²æ›¿æ¢" aria-hidden="true">#</a> å­—ç¬¦ä¸²æ›¿æ¢</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>#{}</code> å‚æ•°è¯­æ³•æ—¶ï¼ŒMyBatis ä¼šåˆ›å»º <code>PreparedStatement</code> å‚æ•°å ä½ç¬¦ï¼Œå¹¶é€šè¿‡å ä½ç¬¦å®‰å…¨åœ°è®¾ç½®å‚æ•°ï¼ˆå°±åƒä½¿ç”¨ ? ä¸€æ ·ï¼‰ã€‚</p><p>è¿™æ ·åšæ›´å®‰å…¨ï¼Œæ›´è¿…é€Ÿï¼Œé€šå¸¸ä¹Ÿæ˜¯é¦–é€‰åšæ³•ï¼Œä¸è¿‡æœ‰æ—¶ä½ å°±æ˜¯æƒ³ç›´æ¥åœ¨ SQL è¯­å¥ä¸­ç›´æ¥æ’å…¥ä¸€ä¸ªä¸è½¬ä¹‰çš„å­—ç¬¦ä¸²ã€‚ æ¯”å¦‚ ORDER BY å­å¥ï¼Œè¿™æ—¶å€™ä½ å¯ä»¥ï¼š</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> ${columnName}
</code></pre></div><p>â€‹ ä»¥ <code>${}</code> åŒ…å›´çš„å­—ç¬¦ä¸²ï¼Œä¸ä¼šè¢«é¢„å¤„ç†ä¸º <code>?</code>ï¼Œè€Œæ˜¯ç›´æ¥æ‹¼æ¥åˆ° SQL ä¸­ï¼›è¿™ç§åšæ³•è™½ç„¶æœ‰æ—¶å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¼šæœ‰ SQL æ³¨å…¥åˆ°é£é™©ï¼Œä¾‹å¦‚ï¼šåœ¨ <code>where id = ${id}</code> ä¸­ï¼Œä¼ å…¥ <code>1 or 1=1</code>ï¼Œå¯ä»¥å°† <code>id=?</code> è¿™ä¸ªè¿‡æ»¤æ¡ä»¶è·³è¿‡ï¼ŒæŸ¥è¯¢å‡ºå…¨éƒ¨çš„æ•°æ®ã€‚</p><p>å› æ­¤ï¼Œè¦ä¹ˆä¸å…è®¸ç”¨æˆ·è¾“å…¥è¿™äº›å­—æ®µï¼Œè¦ä¹ˆè‡ªè¡Œè½¬ä¹‰å¹¶æ£€éªŒè¿™äº›å‚æ•°ã€‚</p><h3 id="ç»“æœæ˜ å°„" tabindex="-1"><a class="header-anchor" href="#ç»“æœæ˜ å°„" aria-hidden="true">#</a> ç»“æœæ˜ å°„</h3><h4 id="æ˜ å°„-map" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„-map" aria-hidden="true">#</a> æ˜ å°„ Map</h4><p>é…ç½® <code>resultType</code> å±æ€§ä¸º mapï¼Œå³å¯å°†ç»“æœä»¥é”®å€¼å¯¹çš„å½¢å¼æ˜ å°„åˆ° map ä¸­ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUsers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select id, username, hashedPassword
  from some_table
  where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ˜ å°„-bean" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„-bean" aria-hidden="true">#</a> æ˜ å°„ bean</h4><p>åŒç†ï¼Œè®¾ç½® <code>resultType</code> å±æ€§ä¸º bean çš„å…¨é™å®šåï¼Œå³å¯é€šè¿‡å±æ€§åç§°ï¼Œå°†ç»“æœæ˜ å°„åˆ° java å¯¹è±¡ä¸­ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;select id=&quot;selectUsers&quot; resultType=&quot;com.someapp.model.User&quot;&gt;
  select id, username, hashedPassword
  from some_table
  where id = #{id}
&lt;/select&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>ResultMap</code> æ ‡ç­¾ï¼Œå®šä¹‰å¤æ‚çš„æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user_id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashed_password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½® <code>resultType</code> å±æ€§ä¸ºå®šä¹‰å‡ºæ¥çš„ <code>userResultMap</code> å³å¯å°†æ˜ å°„åˆ°è‡ªå®šä¹‰çš„ç»“æ„ä¸­ã€‚</p><h4 id="resultmap" tabindex="-1"><a class="header-anchor" href="#resultmap" aria-hidden="true">#</a> ResultMap</h4><p><code>ResultMap</code> ç”¨æ¥å®šä¹‰å¤æ‚çš„ç»“æ„æ˜ å°„ï¼Œå®ƒçš„å±æ€§å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;">å½“å‰å‘½åç©ºé—´ä¸­çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºæ ‡è¯†ä¸€ä¸ªç»“æœæ˜ å°„ã€‚</td></tr><tr><td style="text-align:left;"><code>type</code></td><td style="text-align:left;">ç±»çš„å®Œå…¨é™å®šå, æˆ–è€…ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…³äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è¡¨æ ¼ï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>autoMapping</code></td><td style="text-align:left;">å¦‚æœè®¾ç½®è¿™ä¸ªå±æ€§ï¼ŒMyBatis å°†ä¼šä¸ºæœ¬ç»“æœæ˜ å°„å¼€å¯æˆ–è€…å…³é—­è‡ªåŠ¨æ˜ å°„ã€‚ è¿™ä¸ªå±æ€§ä¼šè¦†ç›–å…¨å±€çš„å±æ€§ autoMappingBehaviorã€‚é»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr></tbody></table><p>å®ƒåŒ…å«äº†å¦‚ä¸‹å­æ ‡ç­¾ï¼š</p><ul><li><code>constructor</code> - ç”¨äºåœ¨å®ä¾‹åŒ–ç±»æ—¶ï¼Œæ³¨å…¥ç»“æœåˆ°æ„é€ æ–¹æ³•ä¸­ï¼Œé€šè¿‡ bean çš„æ„é€ å‡½æ•°è®¾ç½®å±æ€§ï¼› <ul><li><code>idArg</code> - ID å‚æ•°ï¼›æ ‡è®°å‡ºä½œä¸º ID çš„ç»“æœå¯ä»¥å¸®åŠ©æé«˜æ•´ä½“æ€§èƒ½ï¼Œå¯ä»¥ç†è§£ä¸ºæ„é€ å‡½æ•°å‚æ•°ä¸­çš„ä¸»é”®</li><li><code>arg</code> - å°†è¢«æ³¨å…¥åˆ°æ„é€ æ–¹æ³•çš„ä¸€ä¸ªæ™®é€šç»“æœï¼Œå¯ä»¥ç†è§£ä¸ºæ„é€ å‡½æ•°å‚æ•°ä¸­çš„æ™®é€šå±æ€§</li></ul></li><li><code>id</code> â€“ ä¸€ä¸ª ID ç»“æœï¼›æ ‡è®°å‡ºä½œä¸º ID çš„ç»“æœå¯ä»¥å¸®åŠ©æé«˜æ•´ä½“æ€§èƒ½ï¼Œå¯ä»¥ç†è§£ä¸ºä¸»é”®</li><li><code>result</code> â€“ æ³¨å…¥åˆ°å­—æ®µæˆ– JavaBean å±æ€§çš„æ™®é€šç»“æœï¼Œå¯ä»¥ç†è§£ä¸ºæ™®é€šå­—æ®µ</li><li><code>association</code> â€“ ä¸€ä¸ªå¤æ‚ç±»å‹çš„å…³è”ï¼›è®¸å¤šç»“æœå°†åŒ…è£…æˆè¿™ç§ç±»å‹ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¦ä¸€ä¸ªç±»</li><li><code>collection</code> â€“ ä¸€ä¸ªå…¶ä»–ç±»å‹æ•°æ®ç»“æ„çš„é›†åˆï¼Œå¯ä»¥ç†è§£ä¸º <code>Collection&lt;T&gt;</code></li><li>discriminator<code>â€“ ä½¿ç”¨ç»“æœå€¼æ¥å†³å®šä½¿ç”¨å“ªä¸ª</code>resultMap` <ul><li><code>case</code> â€“ åŸºäºæŸäº›å€¼çš„ç»“æœæ˜ å°„ï¼›åµŒå¥—ç»“æœæ˜ å°„ â€“ <code>case</code> ä¹Ÿæ˜¯ä¸€ä¸ªç»“æœæ˜ å°„ï¼Œå› æ­¤å…·æœ‰ç›¸åŒçš„ç»“æ„å’Œå…ƒç´ ï¼›æˆ–è€…å¼•ç”¨å…¶å®ƒçš„ç»“æœæ˜ å°„</li></ul></li></ul><p>ä¸‹é¢æŒ‰ç…§å±æ€§çš„ç±»åˆ«æˆ–æ³¨å…¥æ–¹å¼ï¼Œä¾æ¬¡ä»‹ç»ï¼š</p><p><strong>1. æ™®é€šæ•°æ®ç±»å‹çš„ Id å’Œ result</strong></p><p><em>id</em> å’Œ <em>result</em> å…ƒç´ éƒ½å°†ä¸€ä¸ªåˆ—çš„å€¼æ˜ å°„åˆ°ä¸€ä¸ªç®€å•æ•°æ®ç±»å‹ï¼ˆString, int, double, Date ç­‰ï¼‰çš„å±æ€§æˆ–å­—æ®µã€‚å”¯ä¸€ä¸åŒæ˜¯ï¼Œ<em>id</em> å…ƒç´ å¯¹åº”çš„å±æ€§ä¼šè¢«æ ‡è®°ä¸ºå¯¹è±¡çš„æ ‡è¯†ç¬¦ï¼Œåœ¨æ¯”è¾ƒå¯¹è±¡å®ä¾‹æ—¶ä½¿ç”¨ã€‚å®ƒä»¬çš„å…±åŒçš„å±æ€§ï¼š</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>property</code></td><td style="text-align:left;">æ˜ å°„åˆ°åˆ—ç»“æœçš„å­—æ®µæˆ–å±æ€§ã€‚å¦‚æœ JavaBean æœ‰è¿™ä¸ªåå­—çš„å±æ€§ï¼ˆpropertyï¼‰ï¼Œä¼šå…ˆä½¿ç”¨è¯¥å±æ€§ã€‚å¦åˆ™ MyBatis å°†ä¼šå¯»æ‰¾ç»™å®šåç§°çš„å­—æ®µï¼ˆfieldï¼‰ã€‚ æ— è®ºæ˜¯å“ªä¸€ç§æƒ…å½¢ï¼Œä½ éƒ½å¯ä»¥ä½¿ç”¨å¸¸è§çš„ç‚¹å¼åˆ†éš”å½¢å¼è¿›è¡Œå¤æ‚å±æ€§å¯¼èˆªã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·æ˜ å°„ä¸€äº›ç®€å•çš„ä¸œè¥¿ï¼šâ€œusernameâ€ï¼Œæˆ–è€…æ˜ å°„åˆ°ä¸€äº›å¤æ‚çš„ä¸œè¥¿ä¸Šï¼šâ€œaddress.street.numberâ€ã€‚</td></tr><tr><td style="text-align:left;"><code>column</code></td><td style="text-align:left;">æ•°æ®åº“ä¸­çš„åˆ—åï¼Œæˆ–è€…æ˜¯åˆ—çš„åˆ«åã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™å’Œä¼ é€’ç»™ <code>resultSet.getString(columnName)</code> æ–¹æ³•çš„å‚æ•°ä¸€æ ·ã€‚</td></tr><tr><td style="text-align:left;"><code>javaType</code></td><td style="text-align:left;">ä¸€ä¸ª Java ç±»çš„å…¨é™å®šåï¼Œæˆ–ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…³äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è¡¨æ ¼ï¼‰ã€‚ å¦‚æœä½ æ˜ å°„åˆ°ä¸€ä¸ª JavaBeanï¼ŒMyBatis é€šå¸¸å¯ä»¥æ¨æ–­ç±»å‹ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ˜ å°„åˆ°çš„æ˜¯ HashMapï¼Œé‚£ä¹ˆä½ åº”è¯¥æ˜ç¡®åœ°æŒ‡å®š javaType æ¥ä¿è¯è¡Œä¸ºä¸æœŸæœ›çš„ç›¸ä¸€è‡´ã€‚</td></tr><tr><td style="text-align:left;"><code>jdbcType</code></td><td style="text-align:left;">JDBC ç±»å‹ï¼Œæ‰€æ”¯æŒçš„ JDBC ç±»å‹å‚è§è¿™ä¸ªè¡¨æ ¼ä¹‹åçš„â€œæ”¯æŒçš„ JDBC ç±»å‹â€ã€‚ åªéœ€è¦åœ¨å¯èƒ½æ‰§è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤çš„ä¸”å…è®¸ç©ºå€¼çš„åˆ—ä¸ŠæŒ‡å®š JDBC ç±»å‹ã€‚è¿™æ˜¯ JDBC çš„è¦æ±‚è€Œé MyBatis çš„è¦æ±‚ã€‚å¦‚æœä½ ç›´æ¥é¢å‘ JDBC ç¼–ç¨‹ï¼Œä½ éœ€è¦å¯¹å¯ä»¥ä¸ºç©ºå€¼çš„åˆ—æŒ‡å®šè¿™ä¸ªç±»å‹ã€‚</td></tr><tr><td style="text-align:left;"><code>typeHandler</code></td><td style="text-align:left;">æˆ‘ä»¬åœ¨å‰é¢è®¨è®ºè¿‡é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œä½ å¯ä»¥è¦†ç›–é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ è¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªç±»å‹å¤„ç†å™¨å®ç°ç±»çš„å…¨é™å®šåï¼Œæˆ–è€…æ˜¯ç±»å‹åˆ«åã€‚</td></tr></tbody></table><p><strong>2. æ„é€ å™¨æ˜ å°„çš„ constructor</strong></p><p>æœ‰äº› Java å¯¹è±¡çš„å±æ€§æ˜¯ç§æœ‰çš„ä¸”ä¸æš´éœ²å…¬æœ‰çš„æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡æ„é€ å‡½æ•°åˆå§‹åŒ–ï¼Œ<em>constructor</em> å…ƒç´ å°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„ï¼Œç¤ºä¾‹ï¼š</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// java ç±»</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
   <span class="token comment">//...</span>
   <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
<span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ„é€ å‡½æ•°æ³¨å…¥ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idArg</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>String<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_int<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ç‰ˆæœ¬ 3.4.3 å¼€å§‹ï¼Œå¯ä»¥åœ¨æŒ‡å®šå‚æ•°åç§°çš„å‰æä¸‹ï¼Œä»¥ä»»æ„é¡ºåºç¼–å†™ arg å…ƒç´ ã€‚</p><p><code>constructor</code> çš„å±æ€§ï¼š</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>column</code></td><td style="text-align:left;">æ•°æ®åº“ä¸­çš„åˆ—åï¼Œæˆ–è€…æ˜¯åˆ—çš„åˆ«åã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™å’Œä¼ é€’ç»™ <code>resultSet.getString(columnName)</code> æ–¹æ³•çš„å‚æ•°ä¸€æ ·ã€‚</td></tr><tr><td style="text-align:left;"><code>javaType</code></td><td style="text-align:left;">ä¸€ä¸ª Java ç±»çš„å®Œå…¨é™å®šåï¼Œæˆ–ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…³äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è¡¨æ ¼ï¼‰ã€‚ å¦‚æœä½ æ˜ å°„åˆ°ä¸€ä¸ª JavaBeanï¼ŒMyBatis é€šå¸¸å¯ä»¥æ¨æ–­ç±»å‹ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ˜ å°„åˆ°çš„æ˜¯ HashMapï¼Œé‚£ä¹ˆä½ åº”è¯¥æ˜ç¡®åœ°æŒ‡å®š javaType æ¥ä¿è¯è¡Œä¸ºä¸æœŸæœ›çš„ç›¸ä¸€è‡´ã€‚</td></tr><tr><td style="text-align:left;"><code>jdbcType</code></td><td style="text-align:left;">JDBC ç±»å‹ï¼Œæ‰€æ”¯æŒçš„ JDBC ç±»å‹å‚è§è¿™ä¸ªè¡¨æ ¼ä¹‹å‰çš„â€œæ”¯æŒçš„ JDBC ç±»å‹â€ã€‚ åªéœ€è¦åœ¨å¯èƒ½æ‰§è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤çš„ä¸”å…è®¸ç©ºå€¼çš„åˆ—ä¸ŠæŒ‡å®š JDBC ç±»å‹ã€‚è¿™æ˜¯ JDBC çš„è¦æ±‚è€Œé MyBatis çš„è¦æ±‚ã€‚å¦‚æœä½ ç›´æ¥é¢å‘ JDBC ç¼–ç¨‹ï¼Œä½ éœ€è¦å¯¹å¯èƒ½å­˜åœ¨ç©ºå€¼çš„åˆ—æŒ‡å®šè¿™ä¸ªç±»å‹ã€‚</td></tr><tr><td style="text-align:left;"><code>typeHandler</code></td><td style="text-align:left;">æˆ‘ä»¬åœ¨å‰é¢è®¨è®ºè¿‡é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œä½ å¯ä»¥è¦†ç›–é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ è¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªç±»å‹å¤„ç†å™¨å®ç°ç±»çš„å®Œå…¨é™å®šåï¼Œæˆ–è€…æ˜¯ç±»å‹åˆ«åã€‚</td></tr><tr><td style="text-align:left;"><code>select</code></td><td style="text-align:left;">ç”¨äºåŠ è½½å¤æ‚ç±»å‹å±æ€§çš„æ˜ å°„è¯­å¥çš„ IDï¼Œå®ƒä¼šä» column å±æ€§ä¸­æŒ‡å®šçš„åˆ—æ£€ç´¢æ•°æ®ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™æ­¤ select è¯­å¥ã€‚å…·ä½“è¯·å‚è€ƒå…³è”å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><code>resultMap</code></td><td style="text-align:left;">ç»“æœæ˜ å°„çš„ IDï¼Œå¯ä»¥å°†åµŒå¥—çš„ç»“æœé›†æ˜ å°„åˆ°ä¸€ä¸ªåˆé€‚çš„å¯¹è±¡æ ‘ä¸­ã€‚ å®ƒå¯ä»¥ä½œä¸ºä½¿ç”¨é¢å¤– select è¯­å¥çš„æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒå¯ä»¥å°†å¤šè¡¨è¿æ¥æ“ä½œçš„ç»“æœæ˜ å°„æˆä¸€ä¸ªå•ä¸€çš„ <code>ResultSet</code>ã€‚è¿™æ ·çš„ <code>ResultSet</code> å°†ä¼šå°†åŒ…å«é‡å¤æˆ–éƒ¨åˆ†æ•°æ®é‡å¤çš„ç»“æœé›†ã€‚ä¸ºäº†å°†ç»“æœé›†æ­£ç¡®åœ°æ˜ å°„åˆ°åµŒå¥—çš„å¯¹è±¡æ ‘ä¸­ï¼ŒMyBatis å…è®¸ä½  â€œä¸²è”â€ç»“æœæ˜ å°„ï¼Œä»¥ä¾¿è§£å†³åµŒå¥—ç»“æœé›†çš„é—®é¢˜ã€‚æƒ³äº†è§£æ›´å¤šå†…å®¹ï¼Œè¯·å‚è€ƒä¸‹é¢çš„å…³è”å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;">æ„é€ æ–¹æ³•å½¢å‚çš„åå­—ã€‚ä» 3.4.3 ç‰ˆæœ¬å¼€å§‹ï¼Œé€šè¿‡æŒ‡å®šå…·ä½“çš„å‚æ•°åï¼Œä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºå†™å…¥ arg å…ƒç´ ã€‚å‚çœ‹ä¸Šé¢çš„è§£é‡Šã€‚</td></tr></tbody></table><p><strong>3. å…³è”å…¶ä»– Bean</strong></p><p>å½“ Java ç±»çš„å±æ€§ä¸ºä¸€ä¸ªå…¶ä»–çš„ Bean æ—¶ï¼Œé€šè¿‡ <code>association</code> æ ‡ç­¾ï¼Œå¯ä»¥åœ¨å½“å‰æ˜ å°„åµŒå¥—å¦ä¸€ä¸ª Beanã€‚</p><p>å…³è”çš„ä¸åŒä¹‹å¤„æ˜¯ï¼Œä½ éœ€è¦å‘Šè¯‰ MyBatis å¦‚ä½•åŠ è½½å…³è”ã€‚MyBatis æœ‰ä¸¤ç§ä¸åŒçš„æ–¹å¼åŠ è½½å…³è”ï¼š</p><ul><li>åµŒå¥— Select æŸ¥è¯¢ï¼šé€šè¿‡æ‰§è¡Œå¦å¤–ä¸€ä¸ª SQL æ˜ å°„è¯­å¥æ¥åŠ è½½æœŸæœ›çš„å¤æ‚ç±»å‹ã€‚</li><li>åµŒå¥—ç»“æœæ˜ å°„ï¼šä½¿ç”¨åµŒå¥—çš„ç»“æœæ˜ å°„æ¥å¤„ç†è¿æ¥ç»“æœçš„é‡å¤å­é›†ã€‚</li></ul><p>é¦–å…ˆï¼Œå…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå…ƒç´ çš„å±æ€§ã€‚ä½ å°†ä¼šå‘ç°ï¼Œå’Œæ™®é€šçš„ç»“æœæ˜ å°„ç›¸æ¯”ï¼Œå®ƒåªåœ¨ select å’Œ resultMap å±æ€§ä¸Šæœ‰æ‰€ä¸åŒã€‚</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>property</code></td><td style="text-align:left;">æ˜ å°„åˆ°åˆ—ç»“æœçš„å­—æ®µæˆ–å±æ€§ã€‚å¦‚æœç”¨æ¥åŒ¹é…çš„ JavaBean å­˜åœ¨ç»™å®šåå­—çš„å±æ€§ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¢«ä½¿ç”¨ã€‚å¦åˆ™ MyBatis å°†ä¼šå¯»æ‰¾ç»™å®šåç§°çš„å­—æ®µã€‚ æ— è®ºæ˜¯å“ªä¸€ç§æƒ…å½¢ï¼Œä½ éƒ½å¯ä»¥ä½¿ç”¨é€šå¸¸çš„ç‚¹å¼åˆ†éš”å½¢å¼è¿›è¡Œå¤æ‚å±æ€§å¯¼èˆªã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥è¿™æ ·æ˜ å°„ä¸€äº›ç®€å•çš„ä¸œè¥¿ï¼šâ€œusernameâ€ï¼Œæˆ–è€…æ˜ å°„åˆ°ä¸€äº›å¤æ‚çš„ä¸œè¥¿ä¸Šï¼šâ€œaddress.street.numberâ€ã€‚</td></tr><tr><td style="text-align:left;"><code>javaType</code></td><td style="text-align:left;">ä¸€ä¸ª Java ç±»çš„å®Œå…¨é™å®šåï¼Œæˆ–ä¸€ä¸ªç±»å‹åˆ«åï¼ˆå…³äºå†…ç½®çš„ç±»å‹åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„è¡¨æ ¼ï¼‰ã€‚ å¦‚æœä½ æ˜ å°„åˆ°ä¸€ä¸ª JavaBeanï¼ŒMyBatis é€šå¸¸å¯ä»¥æ¨æ–­ç±»å‹ã€‚ç„¶è€Œï¼Œå¦‚æœä½ æ˜ å°„åˆ°çš„æ˜¯ HashMapï¼Œé‚£ä¹ˆä½ åº”è¯¥æ˜ç¡®åœ°æŒ‡å®š javaType æ¥ä¿è¯è¡Œä¸ºä¸æœŸæœ›çš„ç›¸ä¸€è‡´ã€‚</td></tr><tr><td style="text-align:left;"><code>jdbcType</code></td><td style="text-align:left;">JDBC ç±»å‹ï¼Œæ‰€æ”¯æŒçš„ JDBC ç±»å‹å‚è§è¿™ä¸ªè¡¨æ ¼ä¹‹å‰çš„â€œæ”¯æŒçš„ JDBC ç±»å‹â€ã€‚ åªéœ€è¦åœ¨å¯èƒ½æ‰§è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤çš„ä¸”å…è®¸ç©ºå€¼çš„åˆ—ä¸ŠæŒ‡å®š JDBC ç±»å‹ã€‚è¿™æ˜¯ JDBC çš„è¦æ±‚è€Œé MyBatis çš„è¦æ±‚ã€‚å¦‚æœä½ ç›´æ¥é¢å‘ JDBC ç¼–ç¨‹ï¼Œä½ éœ€è¦å¯¹å¯èƒ½å­˜åœ¨ç©ºå€¼çš„åˆ—æŒ‡å®šè¿™ä¸ªç±»å‹ã€‚</td></tr><tr><td style="text-align:left;"><code>typeHandler</code></td><td style="text-align:left;">æˆ‘ä»¬åœ¨å‰é¢è®¨è®ºè¿‡é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œä½ å¯ä»¥è¦†ç›–é»˜è®¤çš„ç±»å‹å¤„ç†å™¨ã€‚ è¿™ä¸ªå±æ€§å€¼æ˜¯ä¸€ä¸ªç±»å‹å¤„ç†å™¨å®ç°ç±»çš„å®Œå…¨é™å®šåï¼Œæˆ–è€…æ˜¯ç±»å‹åˆ«åã€‚</td></tr></tbody></table><p><strong>3.1 å…³è”çš„åµŒå¥— Select æŸ¥è¯¢ï¼ˆä¸æ¨èï¼‰</strong></p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>column</code></td><td style="text-align:left;">æ•°æ®åº“ä¸­çš„åˆ—åï¼Œæˆ–è€…æ˜¯åˆ—çš„åˆ«åã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™å’Œä¼ é€’ç»™ <code>resultSet.getString(columnName)</code> æ–¹æ³•çš„å‚æ•°ä¸€æ ·ã€‚ æ³¨æ„ï¼šåœ¨ä½¿ç”¨å¤åˆä¸»é”®çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>column=&quot;{prop1=col1,prop2=col2}&quot;</code> è¿™æ ·çš„è¯­æ³•æ¥æŒ‡å®šå¤šä¸ªä¼ é€’ç»™åµŒå¥— Select æŸ¥è¯¢è¯­å¥çš„åˆ—åã€‚è¿™ä¼šä½¿å¾— <code>prop1</code> å’Œ <code>prop2</code> ä½œä¸ºå‚æ•°å¯¹è±¡ï¼Œè¢«è®¾ç½®ä¸ºå¯¹åº”åµŒå¥— Select è¯­å¥çš„å‚æ•°ã€‚</td></tr><tr><td style="text-align:left;"><code>select</code></td><td style="text-align:left;">ç”¨äºåŠ è½½å¤æ‚ç±»å‹å±æ€§çš„æ˜ å°„è¯­å¥çš„ IDï¼Œå®ƒä¼šä» column å±æ€§æŒ‡å®šçš„åˆ—ä¸­æ£€ç´¢æ•°æ®ï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™ç›®æ ‡ select è¯­å¥ã€‚ å…·ä½“è¯·å‚è€ƒä¸‹é¢çš„ä¾‹å­ã€‚æ³¨æ„ï¼šåœ¨ä½¿ç”¨å¤åˆä¸»é”®çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>column=&quot;{prop1=col1,prop2=col2}&quot;</code> è¿™æ ·çš„è¯­æ³•æ¥æŒ‡å®šå¤šä¸ªä¼ é€’ç»™åµŒå¥— Select æŸ¥è¯¢è¯­å¥çš„åˆ—åã€‚è¿™ä¼šä½¿å¾— <code>prop1</code> å’Œ <code>prop2</code> ä½œä¸ºå‚æ•°å¯¹è±¡ï¼Œè¢«è®¾ç½®ä¸ºå¯¹åº”åµŒå¥— Select è¯­å¥çš„å‚æ•°ã€‚</td></tr><tr><td style="text-align:left;"><code>fetchType</code></td><td style="text-align:left;">å¯é€‰çš„ã€‚æœ‰æ•ˆå€¼ä¸º <code>lazy</code> å’Œ <code>eager</code>ã€‚ æŒ‡å®šå±æ€§åï¼Œå°†åœ¨æ˜ å°„ä¸­å¿½ç•¥å…¨å±€é…ç½®å‚æ•° <code>lazyLoadingEnabled</code>ï¼Œä½¿ç”¨å±æ€§çš„å€¼ã€‚</td></tr></tbody></table><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blogResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAuthor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBlog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blogResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG WHERE ID = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectAuthor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM AUTHOR WHERE ID = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬æœ‰ä¸¤ä¸ª select æŸ¥è¯¢è¯­å¥ï¼š<code>selectBlog</code> ç”¨æ¥åŠ è½½åšå®¢ï¼ˆBlogï¼‰ï¼Œ<code>selectAuthor</code> ç”¨æ¥åŠ è½½ä½œè€…ï¼ˆAuthorï¼‰ï¼Œè€Œä¸”åšå®¢çš„ç»“æœæ˜ å°„æè¿°äº†åº”è¯¥ä½¿ç”¨ <code>selectAuthor</code> è¯­å¥åŠ è½½å®ƒçš„ author å±æ€§ã€‚</p><p>å…¶å®ƒæ‰€æœ‰çš„å±æ€§å°†ä¼šè¢«è‡ªåŠ¨åŠ è½½ï¼Œåªè¦å®ƒä»¬çš„åˆ—åå’Œå±æ€§åç›¸åŒ¹é…ã€‚</p><p>è¿™ç§æ–¹å¼è™½ç„¶å¾ˆç®€å•ï¼Œä½†åœ¨å¤§å‹æ•°æ®é›†æˆ–å¤§å‹æ•°æ®è¡¨ä¸Šè¡¨ç°ä¸ä½³ã€‚è¿™ä¸ªé—®é¢˜è¢«ç§°ä¸ºâ€œN+1 æŸ¥è¯¢é—®é¢˜â€ã€‚ æ¦‚æ‹¬åœ°è®²ï¼ŒN+1 æŸ¥è¯¢é—®é¢˜æ˜¯è¿™æ ·å­çš„ï¼š</p><ul><li>ä½ æ‰§è¡Œäº†ä¸€ä¸ªå•ç‹¬çš„ SQL è¯­å¥æ¥è·å–ç»“æœçš„ä¸€ä¸ªåˆ—è¡¨ï¼ˆå°±æ˜¯â€œ+1â€ï¼‰ã€‚</li><li>å¯¹åˆ—è¡¨è¿”å›çš„æ¯æ¡è®°å½•ï¼Œä½ æ‰§è¡Œä¸€ä¸ª select æŸ¥è¯¢è¯­å¥æ¥ä¸ºæ¯æ¡è®°å½•åŠ è½½è¯¦ç»†ä¿¡æ¯ï¼ˆå°±æ˜¯â€œNâ€ï¼‰ã€‚</li></ul><p><strong>3.2 å…³è”çš„åµŒå¥—ç»“æœæ˜ å°„</strong>ï¼ˆæ¨èï¼‰</p><table><thead><tr><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>resultMap</code></td><td style="text-align:left;">ç»“æœæ˜ å°„çš„ IDï¼Œå¯ä»¥å°†æ­¤å…³è”çš„åµŒå¥—ç»“æœé›†æ˜ å°„åˆ°ä¸€ä¸ªåˆé€‚çš„å¯¹è±¡æ ‘ä¸­ã€‚ å®ƒå¯ä»¥ä½œä¸ºä½¿ç”¨é¢å¤– select è¯­å¥çš„æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒå¯ä»¥å°†å¤šè¡¨è¿æ¥æ“ä½œçš„ç»“æœæ˜ å°„æˆä¸€ä¸ªå•ä¸€çš„ <code>ResultSet</code>ã€‚è¿™æ ·çš„ <code>ResultSet</code> æœ‰éƒ¨åˆ†æ•°æ®æ˜¯é‡å¤çš„ã€‚ ä¸ºäº†å°†ç»“æœé›†æ­£ç¡®åœ°æ˜ å°„åˆ°åµŒå¥—çš„å¯¹è±¡æ ‘ä¸­, MyBatis å…è®¸ä½ â€œä¸²è”â€ç»“æœæ˜ å°„ï¼Œä»¥ä¾¿è§£å†³åµŒå¥—ç»“æœé›†çš„é—®é¢˜ã€‚ä½¿ç”¨åµŒå¥—ç»“æœæ˜ å°„çš„ä¸€ä¸ªä¾‹å­åœ¨è¡¨æ ¼ä»¥åã€‚</td></tr><tr><td style="text-align:left;"><code>columnPrefix</code></td><td style="text-align:left;">å½“è¿æ¥å¤šä¸ªè¡¨æ—¶ï¼Œä½ å¯èƒ½ä¼šä¸å¾—ä¸ä½¿ç”¨åˆ—åˆ«åæ¥é¿å…åœ¨ <code>ResultSet</code> ä¸­äº§ç”Ÿé‡å¤çš„åˆ—åã€‚æŒ‡å®š columnPrefix åˆ—åå‰ç¼€å…è®¸ä½ å°†å¸¦æœ‰è¿™äº›å‰ç¼€çš„åˆ—æ˜ å°„åˆ°ä¸€ä¸ªå¤–éƒ¨çš„ç»“æœæ˜ å°„ä¸­ã€‚ è¯¦ç»†è¯´æ˜è¯·å‚è€ƒåé¢çš„ä¾‹å­ã€‚</td></tr><tr><td style="text-align:left;"><code>notNullColumn</code></td><td style="text-align:left;">é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨è‡³å°‘ä¸€ä¸ªè¢«æ˜ å°„åˆ°å±æ€§çš„åˆ—ä¸ä¸ºç©ºæ—¶ï¼Œå­å¯¹è±¡æ‰ä¼šè¢«åˆ›å»ºã€‚ ä½ å¯ä»¥åœ¨è¿™ä¸ªå±æ€§ä¸ŠæŒ‡å®šéç©ºçš„åˆ—æ¥æ”¹å˜é»˜è®¤è¡Œä¸ºï¼ŒæŒ‡å®šåï¼ŒMybatis å°†åªåœ¨è¿™äº›åˆ—ä¸­ä»»æ„ä¸€åˆ—éç©ºæ—¶æ‰åˆ›å»ºä¸€ä¸ªå­å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”æ¥æŒ‡å®šå¤šä¸ªåˆ—ã€‚é»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr><tr><td style="text-align:left;"><code>autoMapping</code></td><td style="text-align:left;">å¦‚æœè®¾ç½®è¿™ä¸ªå±æ€§ï¼ŒMyBatis å°†ä¼šä¸ºæœ¬ç»“æœæ˜ å°„å¼€å¯æˆ–è€…å…³é—­è‡ªåŠ¨æ˜ å°„ã€‚ è¿™ä¸ªå±æ€§ä¼šè¦†ç›–å…¨å±€çš„å±æ€§ autoMappingBehaviorã€‚æ³¨æ„ï¼Œæœ¬å±æ€§å¯¹å¤–éƒ¨çš„ç»“æœæ˜ å°„æ— æ•ˆï¼Œæ‰€ä»¥ä¸èƒ½æ­é… <code>select</code> æˆ– <code>resultMap</code> å…ƒç´ ä½¿ç”¨ã€‚é»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚</td></tr></tbody></table><p>å…³è”çš„åµŒå¥— Select æŸ¥è¯¢åœ¨æ‰§è¡Œæ—¶éœ€è¦å¤šæ¬¡è¿æ¥æ•°æ®åº“æŸ¥è¯¢ï¼Œååˆ†å½±å“æ€§èƒ½ï¼›è€Œå…³è”çš„åµŒå¥—ç»“æœæ˜ å°„åˆ™é€šè¿‡æ•°æ®åº“å±‚é¢çš„è¡¨è¿æ¥ SQL è¯­å¥ï¼Œå…ˆä¸€æ¬¡æ€§æŸ¥è¯¢å‡ºç»“æœï¼Œå†é€šè¿‡ <code>resultMap</code> æ„é€ å¤æ‚çš„å¯¹è±¡å’Œç»“æœåšæ˜ å°„ï¼Œå‡å°‘æ•°æ®åº“è¿æ¥æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ï¼Œå› æ­¤è¿™ç§æ–¹å¼æ›´åŠ æ¨èã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token comment">&lt;!-- resultMap --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blogResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blog_id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blog_title<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blog_author_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>authorResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>authorResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Author<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author_bio<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- select --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBlog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blogResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select
    B.id            as blog_id,
    B.title         as blog_title,
    B.author_id     as blog_author_id,
    A.id            as author_id,
    A.username      as author_username,
    A.password      as author_password,
    A.email         as author_email,
    A.bio           as author_bio
  from Blog B left outer join Author A on B.author_id = A.id
  where B.id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°ï¼Œåšå®¢ï¼ˆBlogï¼‰ä½œè€…ï¼ˆauthorï¼‰çš„å…³è”å…ƒç´ å§”æ‰˜åä¸º â€œauthorResultâ€ çš„ç»“æœæ˜ å°„æ¥åŠ è½½ä½œè€…å¯¹è±¡çš„å®ä¾‹ã€‚</p><p><strong>éå¸¸é‡è¦</strong>ï¼š <code>id</code> å…ƒç´ åœ¨åµŒå¥—ç»“æœæ˜ å°„ä¸­æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰²ã€‚ä½ åº”è¯¥æ€»æ˜¯æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå¯ä»¥å”¯ä¸€æ ‡è¯†ç»“æœçš„å±æ€§ã€‚ è™½ç„¶ï¼Œå³ä½¿ä¸æŒ‡å®šè¿™ä¸ªå±æ€§ï¼ŒMyBatis ä»ç„¶å¯ä»¥å·¥ä½œï¼Œä½†æ˜¯ä¼šäº§ç”Ÿä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ åªéœ€è¦æŒ‡å®šå¯ä»¥å”¯ä¸€æ ‡è¯†ç»“æœçš„æœ€å°‘å±æ€§ã€‚æ˜¾ç„¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸»é”®ï¼ˆå¤åˆä¸»é”®ä¹Ÿå¯ä»¥ï¼‰ã€‚</p><p><strong>4. å…³è”çš„å¤šç»“æœé›†ï¼ˆResultSetï¼‰</strong></p><p>æ¶‰åŠå­˜å‚¨è¿‡ç¨‹ï¼Œä¸å¸¸ç”¨ï¼Œè§<a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#%E5%85%B3%E8%81%94%E7%9A%84%E5%A4%9A%E7%BB%93%E6%9E%9C%E9%9B%86%EF%BC%88resultset%EF%BC%89" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p><strong>5. æ˜ å°„é›†åˆ</strong></p><p><code>collection</code> æ ‡ç­¾å¯ä»¥è¡¨ç¤ºï¼Œè¯¥å±æ€§æ˜ å°„ä¸€ä¸ªé›†åˆçš„å…ƒç´ ï¼Œé€šè¿‡ <code>ofType</code> æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ çš„ç±»å‹ï¼Œå…ƒç´ å†…éƒ¨å±æ€§å’Œ <code>resultMap</code> ä¸€æ ·ã€‚ç¤ºä¾‹ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>posts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ofType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog.Post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subject<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post_subject<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post_body<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>collection</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é›†åˆçš„æ˜ å°„åŒä¸Šè¿° Java Bean çš„æ˜ å°„åŸºæœ¬ä¸€æ ·ï¼Œå…·ä½“å¯è§ <a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#%E9%9B%86%E5%90%88%E7%9A%84%E5%B5%8C%E5%A5%97-select-%E6%9F%A5%E8%AF%A2" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p><strong>6. é‰´åˆ«å™¨</strong></p><p>é‰´åˆ«å™¨çš„æ¦‚å¿µå¾ˆå¥½ç†è§£â€”â€”å®ƒå¾ˆåƒ Java è¯­è¨€ä¸­çš„ switch è¯­å¥ã€‚ä¸€ä¸ªé‰´åˆ«å™¨çš„å®šä¹‰éœ€è¦æŒ‡å®š column å’Œ javaType å±æ€§ã€‚column æŒ‡å®šäº† MyBatis æŸ¥è¯¢è¢«æ¯”è¾ƒå€¼çš„åœ°æ–¹ã€‚ ä¾‹å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vehicleResult<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Vehicle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vin<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>year<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>year<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>make<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>make<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>color<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>discriminator</span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vehicle_type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>carResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>truckResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vanResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suvResult<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>discriminator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒMyBatis ä¼šä»ç»“æœé›†ä¸­å¾—åˆ°æ¯æ¡è®°å½•ï¼Œç„¶åæ¯”è¾ƒå®ƒçš„ vehicle type å€¼ã€‚ å¦‚æœå®ƒåŒ¹é…ä»»æ„ä¸€ä¸ªé‰´åˆ«å™¨çš„ caseï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸ª case æŒ‡å®šçš„ç»“æœæ˜ å°„ã€‚ è¿™ä¸ªè¿‡ç¨‹æ˜¯äº’æ–¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå‰©ä½™çš„ç»“æœæ˜ å°„å°†è¢«å¿½ç•¥ã€‚</p><h3 id="è‡ªåŠ¨æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨æ˜ å°„" aria-hidden="true">#</a> è‡ªåŠ¨æ˜ å°„</h3><p>æ­£å¦‚ä½ åœ¨å‰é¢ä¸€èŠ‚çœ‹åˆ°çš„ï¼Œåœ¨ç®€å•çš„åœºæ™¯ä¸‹ï¼ŒMyBatis å¯ä»¥ä¸ºä½ è‡ªåŠ¨æ˜ å°„æŸ¥è¯¢ç»“æœã€‚ä½†å¦‚æœé‡åˆ°å¤æ‚çš„åœºæ™¯ï¼Œä½ éœ€è¦æ„å»ºä¸€ä¸ªç»“æœæ˜ å°„ã€‚</p><p>è‡ªåŠ¨æ˜ å°„çš„å·¥ä½œåŸç†ï¼š</p><ul><li><p>å½“è‡ªåŠ¨æ˜ å°„æŸ¥è¯¢ç»“æœæ—¶ï¼ŒMyBatis ä¼šè·å–ç»“æœä¸­è¿”å›çš„åˆ—åå¹¶åœ¨ Java ç±»ä¸­æŸ¥æ‰¾ç›¸åŒåå­—çš„å±æ€§ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚ è¿™æ„å‘³ç€å¦‚æœå‘ç°äº† <em>ID</em> åˆ—å’Œ <em>id</em> å±æ€§ï¼ŒMyBatis ä¼šå°†åˆ— <em>ID</em> çš„å€¼èµ‹ç»™ <em>id</em> å±æ€§ã€‚</p></li><li><p>é€šå¸¸æ•°æ®åº“åˆ—ä½¿ç”¨å¤§å†™å­—æ¯ç»„æˆçš„å•è¯å‘½åï¼Œå•è¯é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼›è€Œ Java å±æ€§ä¸€èˆ¬éµå¾ªé©¼å³°å‘½åæ³•çº¦å®šã€‚ä¸ºäº†åœ¨è¿™ä¸¤ç§å‘½åæ–¹å¼ä¹‹é—´å¯ç”¨è‡ªåŠ¨æ˜ å°„ï¼Œéœ€è¦å°† <code>mapUnderscoreToCamelCase</code> è®¾ç½®ä¸º trueã€‚</p></li><li><p>ç”šè‡³åœ¨æä¾›äº†ç»“æœæ˜ å°„åï¼Œè‡ªåŠ¨æ˜ å°„ä¹Ÿèƒ½å·¥ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯¹äºæ¯ä¸€ä¸ªç»“æœæ˜ å°„ï¼Œåœ¨ ResultSet å‡ºç°çš„åˆ—ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®æ‰‹åŠ¨æ˜ å°„ï¼Œå°†è¢«è‡ªåŠ¨æ˜ å°„ã€‚åœ¨è‡ªåŠ¨æ˜ å°„å¤„ç†å®Œæ¯•åï¼Œå†å¤„ç†æ‰‹åŠ¨æ˜ å°„ã€‚ åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ<em>id</em> å’Œ <em>userName</em> åˆ—å°†è¢«è‡ªåŠ¨æ˜ å°„ï¼Œ<em>hashed_password</em> åˆ—å°†æ ¹æ®é…ç½®è¿›è¡Œæ˜ å°„ã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUsers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  select
    user_id             as &quot;id&quot;,
    user_name           as &quot;userName&quot;,
    hashed_password
  from some_table
  where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hashed_password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>æœ‰ä¸‰ç§è‡ªåŠ¨æ˜ å°„ç­‰çº§ï¼Œé»˜è®¤æ˜¯ <code>PARTIAL</code>ï¼š</p><ul><li><code>NONE</code> - ç¦ç”¨è‡ªåŠ¨æ˜ å°„ã€‚ä»…å¯¹æ‰‹åŠ¨æ˜ å°„çš„å±æ€§è¿›è¡Œæ˜ å°„ã€‚</li><li><code>PARTIAL</code> - å¯¹é™¤åœ¨å†…éƒ¨å®šä¹‰äº†åµŒå¥—ç»“æœæ˜ å°„ï¼ˆä¹Ÿå°±æ˜¯è¿æ¥çš„å±æ€§ï¼‰ä»¥å¤–çš„å±æ€§è¿›è¡Œæ˜ å°„</li><li><code>FULL</code> - è‡ªåŠ¨æ˜ å°„æ‰€æœ‰å±æ€§ã€‚</li></ul><h3 id="ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#ç¼“å­˜" aria-hidden="true">#</a> ç¼“å­˜</h3><p>Mybatis æœ‰ä¸¤ç§ç¼“å­˜ï¼š</p><ul><li><p>ä¸€çº§ç¼“å­˜ï¼šåˆç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼Œå®ƒåªåœ¨ SqlSession çš„ç”Ÿå‘½å‘¨æœŸä¸­æœ‰æ•ˆï¼ŒåŒä¸€ä¸ª SqlSession å¯¹è±¡ï¼Œ åœ¨å‚æ•°å’Œ SQL å®Œå…¨ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œ åªæ‰§è¡Œä¸€æ¬¡ SQL è¯­å¥ ï¼ˆå‰æç¼“å­˜æ²¡æœ‰è¿‡æœŸï¼‰ï¼›</p></li><li><p>äºŒçº§ç¼“å­˜ï¼šMybatisçš„äºŒçº§ç¼“å­˜æ˜¯æŒ‡ mapper æ˜ å°„æ–‡ä»¶ã€‚äºŒçº§ç¼“å­˜çš„ä½œç”¨åŸŸæ˜¯åŒä¸€ä¸ª namespace ä¸‹ çš„mapper æ˜ å°„æ–‡ä»¶å†…å®¹ï¼Œå¤šä¸ª SqlSession å…±äº«ã€‚å¯ä»¥é€šè¿‡åœ¨ Mapper æ˜ å°„æ–‡ä»¶ä¸­æ·»åŠ  <code>&lt;cache/&gt;</code> å¼€å¯äºŒçº§ç¼“å­˜ï¼Œæ­¤æ—¶è¯¥ Mapper ä¸­æ‰€æœ‰æ–¹æ³•éƒ½æ”¯æŒç¼“å­˜ã€‚</p><p>åœ¨å…¨å±€è®¾ç½®ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>cacheEnabled</code> é…ç½®ç”¨æ¥å…¨å±€æ€§åœ°å¼€å¯æˆ–å…³é—­æ‰€æœ‰æ˜ å°„å™¨é…ç½®æ–‡ä»¶ä¸­å·²é…ç½®çš„ä»»ä½•ç¼“å­˜ï¼Œé»˜è®¤ä¸º trueã€‚</p></li></ul><p>å½“ä½¿ç”¨ Mybatis æŸ¥è¯¢æ•°æ®æ—¶ï¼ŒæŸ¥è¯¢çš„ç»“æœä¼šå…ˆç¼“å­˜åˆ° SqlSession ä¸­ï¼Œå½“ SqlSession å…³é—­æˆ–è€…æäº¤äº‹åŠ¡æ—¶ï¼Œå¦‚æœå¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œåˆ™ä¼šå°†æ•°æ®ç¼“å­˜åˆ° äºŒçº§ç¼“å­˜ä¸­ï¼›å½“ç”¨æˆ·è°ƒç”¨æ–¹æ³•æŸ¥è¯¢æ•°æ®æ—¶ï¼Œé¦–å…ˆä¼šå»äºŒçº§ç¼“å­˜æŸ¥æ‰¾ï¼Œå¦‚æœæœ‰ç¼“å­˜åˆ™ç›´æ¥è¿”å›ï¼›æ²¡æœ‰å†å»ä¸€çº§ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œå¦‚æœæœ‰ç¼“å­˜åˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™å»è¿æ¥æ•°æ®åº“æ‰§è¡Œ SQL æŸ¥è¯¢ã€‚</p><blockquote><p>æ³¨æ„ï¼šç¼“å­˜åªä½œç”¨äº cache æ ‡ç­¾æ‰€åœ¨çš„æ˜ å°„æ–‡ä»¶ä¸­çš„è¯­å¥ã€‚å¦‚æœä½ æ··åˆä½¿ç”¨ Java API å’Œ XML æ˜ å°„æ–‡ä»¶ï¼Œåœ¨å…±ç”¨æ¥å£ä¸­çš„è¯­å¥å°†ä¸ä¼šè¢«é»˜è®¤ç¼“å­˜ã€‚ä½ éœ€è¦ä½¿ç”¨ @CacheNamespaceRef æ³¨è§£æŒ‡å®šç¼“å­˜ä½œç”¨åŸŸã€‚</p></blockquote><p>äºŒçº§ç¼“å­˜çš„æ•ˆæœå¦‚ä¸‹:</p><ul><li>æ˜ å°„è¯­å¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰ select è¯­å¥çš„ç»“æœå°†ä¼šè¢«ç¼“å­˜ã€‚</li><li>æ˜ å°„è¯­å¥æ–‡ä»¶ä¸­çš„æ‰€æœ‰ insertã€update å’Œ delete è¯­å¥ä¼šåˆ·æ–°ç¼“å­˜ã€‚</li><li>ç¼“å­˜ä¼šä½¿ç”¨æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ï¼ˆLRU, Least Recently Usedï¼‰ç®—æ³•æ¥æ¸…é™¤ä¸éœ€è¦çš„ç¼“å­˜ã€‚</li><li>ç¼“å­˜ä¸ä¼šå®šæ—¶è¿›è¡Œåˆ·æ–°ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰åˆ·æ–°é—´éš”ï¼‰ã€‚</li><li>ç¼“å­˜ä¼šä¿å­˜åˆ—è¡¨æˆ–å¯¹è±¡ï¼ˆæ— è®ºæŸ¥è¯¢æ–¹æ³•è¿”å›å“ªç§ï¼‰çš„ 1024 ä¸ªå¼•ç”¨ã€‚</li><li>ç¼“å­˜ä¼šè¢«è§†ä¸ºè¯»/å†™ç¼“å­˜ï¼Œè¿™æ„å‘³ç€è·å–åˆ°çš„å¯¹è±¡å¹¶ä¸æ˜¯å…±äº«çš„ï¼Œå¯ä»¥å®‰å…¨åœ°è¢«è°ƒç”¨è€…ä¿®æ”¹ï¼Œè€Œä¸å¹²æ‰°å…¶ä»–è°ƒç”¨è€…æˆ–çº¿ç¨‹æ‰€åšçš„æ½œåœ¨ä¿®æ”¹ã€‚</li></ul><p><code>cache</code> æ ‡ç­¾çš„å±æ€§ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span>
  <span class="token attr-name">eviction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FIFO<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">flushInterval</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>60000<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>512<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">readOnly</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ›´é«˜çº§çš„é…ç½®åˆ›å»ºäº†ä¸€ä¸ª FIFO ç¼“å­˜ï¼Œæ¯éš” 60 ç§’åˆ·æ–°ï¼Œæœ€å¤šå¯ä»¥å­˜å‚¨ç»“æœå¯¹è±¡æˆ–åˆ—è¡¨çš„ 512 ä¸ªå¼•ç”¨ï¼Œè€Œä¸”è¿”å›çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šåœ¨ä¸åŒçº¿ç¨‹ä¸­çš„è°ƒç”¨è€…äº§ç”Ÿå†²çªã€‚</p><p>å¯ç”¨çš„æ¸…é™¤ç­–ç•¥æœ‰ï¼š</p><ul><li><code>LRU</code> â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚</li><li><code>FIFO</code> â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li><li><code>SOFT</code> â€“ è½¯å¼•ç”¨ï¼šåŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li><li><code>WEAK</code> â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li></ul><p>é»˜è®¤çš„æ¸…é™¤ç­–ç•¥æ˜¯ LRUã€‚</p><p>flushIntervalï¼ˆåˆ·æ–°é—´éš”ï¼‰å±æ€§å¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„çš„æ­£æ•´æ•°ï¼Œè®¾ç½®çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªä»¥æ¯«ç§’ä¸ºå•ä½çš„åˆç†æ—¶é—´é‡ã€‚ é»˜è®¤æƒ…å†µæ˜¯ä¸è®¾ç½®ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰åˆ·æ–°é—´éš”ï¼Œç¼“å­˜ä»…ä»…ä¼šåœ¨è°ƒç”¨è¯­å¥æ—¶åˆ·æ–°ã€‚</p><p>sizeï¼ˆå¼•ç”¨æ•°ç›®ï¼‰å±æ€§å¯ä»¥è¢«è®¾ç½®ä¸ºä»»æ„æ­£æ•´æ•°ï¼Œè¦æ³¨æ„æ¬²ç¼“å­˜å¯¹è±¡çš„å¤§å°å’Œè¿è¡Œç¯å¢ƒä¸­å¯ç”¨çš„å†…å­˜èµ„æºã€‚é»˜è®¤å€¼æ˜¯ 1024ã€‚</p><p>readOnlyï¼ˆåªè¯»ï¼‰å±æ€§å¯ä»¥è¢«è®¾ç½®ä¸º true æˆ– falseã€‚åªè¯»çš„ç¼“å­˜ä¼šç»™æ‰€æœ‰è°ƒç”¨è€…è¿”å›ç¼“å­˜å¯¹è±¡çš„ç›¸åŒå®ä¾‹ã€‚ å› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«ä¿®æ”¹ã€‚è¿™å°±æä¾›äº†å¯è§‚çš„æ€§èƒ½æå‡ã€‚è€Œå¯è¯»å†™çš„ç¼“å­˜ä¼šï¼ˆé€šè¿‡åºåˆ—åŒ–ï¼‰è¿”å›ç¼“å­˜å¯¹è±¡çš„æ‹·è´ã€‚ é€Ÿåº¦ä¸Šä¼šæ…¢ä¸€äº›ï¼Œä½†æ˜¯æ›´å®‰å…¨ï¼Œå› æ­¤é»˜è®¤å€¼æ˜¯ falseã€‚</p><blockquote><p>äºŒçº§ç¼“å­˜æ˜¯äº‹åŠ¡æ€§çš„ã€‚è¿™æ„å‘³ç€ï¼Œå½“ SqlSession å®Œæˆå¹¶æäº¤æ—¶ï¼Œæˆ–æ˜¯å®Œæˆå¹¶å›æ»šï¼Œä½†æ²¡æœ‰æ‰§è¡Œ flushCache=true çš„ insert/delete/update è¯­å¥æ—¶ï¼Œç¼“å­˜ä¼šè·å¾—æ›´æ–°ã€‚</p></blockquote><p>Mybatis è¿˜æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜ï¼Œå…³äºè‡ªå®šä¹‰ç¼“å­˜æˆ–è€…å¼•ç”¨å¦ä¸€ä¸ª Mapper çš„ç¼“å­˜ï¼Œå¯ä»¥è§<a href="https://mybatis.org/mybatis-3/zh/sqlmap-xml.html#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BC%93%E5%AD%98" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="åŠ¨æ€-sql" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€-sql" aria-hidden="true">#</a> åŠ¨æ€ SQL</h2><p>åœ¨ä½¿ç”¨ Java ä»£ç ç¼–å†™ SQL è¯­å¥æ—¶ï¼Œå¸¸å¸¸éœ€è¦åˆ¤æ–­å‚æ•°ï¼Œæ‹¼æ¥ä¸åŒçš„ SQL è¯­å¥ï¼ŒåŒæ—¶è¿˜è¦å¤„ç†æ‹¼æ¥ä¸­çš„ç©ºæ ¼ã€å¼•å·å’Œæ ¼å¼åŒ–ï¼›Mybatis æä¾›äº†åœ¨ XML ä¸­åŠ¨æ€æ‹¼æ¥ SQL çš„æ ‡ç­¾ï¼š</p><ul><li>if</li><li>choose (when, otherwise)</li><li>trim (where, set)</li><li>foreach</li></ul><h3 id="if" tabindex="-1"><a class="header-anchor" href="#if" aria-hidden="true">#</a> if</h3><p>ä½¿ç”¨åŠ¨æ€ SQL æœ€å¸¸è§æƒ…æ™¯æ˜¯æ ¹æ®æ¡ä»¶åŒ…å« where å­å¥çš„ä¸€éƒ¨åˆ†ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogWithTitleLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG
  WHERE state = â€˜ACTIVEâ€™
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND title like #{title}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡è¯­å¥æä¾›äº†å¯é€‰çš„æŸ¥æ‰¾æ–‡æœ¬åŠŸèƒ½ã€‚å¦‚æœä¸ä¼ å…¥ â€œtitleâ€ï¼Œé‚£ä¹ˆæ‰€æœ‰å¤„äº â€œACTIVEâ€ çŠ¶æ€çš„ BLOG éƒ½ä¼šè¿”å›ï¼›å¦‚æœä¼ å…¥äº† â€œtitleâ€ å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šå¯¹ â€œtitleâ€ ä¸€åˆ—è¿›è¡Œæ¨¡ç³ŠæŸ¥æ‰¾å¹¶è¿”å›å¯¹åº”çš„ BLOG ç»“æœï¼ˆç»†å¿ƒçš„è¯»è€…å¯èƒ½ä¼šå‘ç°ï¼Œâ€œtitleâ€ çš„å‚æ•°å€¼éœ€è¦åŒ…å«æŸ¥æ‰¾æ©ç æˆ–é€šé…ç¬¦å­—ç¬¦ï¼‰ã€‚</p><p>å¦‚æœå¸Œæœ›é€šè¿‡ â€œtitleâ€ å’Œ â€œauthorâ€ ä¸¤ä¸ªå‚æ•°è¿›è¡Œå¯é€‰æœç´¢è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘æƒ³å…ˆå°†è¯­å¥åç§°ä¿®æ”¹æˆæ›´åå‰¯å…¶å®çš„åç§°ï¼›æ¥ä¸‹æ¥ï¼Œåªéœ€è¦åŠ å…¥å¦ä¸€ä¸ªæ¡ä»¶å³å¯ã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG WHERE state = â€˜ACTIVEâ€™
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND title like #{title}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND author_name like #{author.name}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="chooseã€whenã€otherwise" tabindex="-1"><a class="header-anchor" href="#chooseã€whenã€otherwise" aria-hidden="true">#</a> chooseã€whenã€otherwise</h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æƒ³ä½¿ç”¨æ‰€æœ‰çš„æ¡ä»¶ï¼Œè€Œåªæ˜¯æƒ³ä»å¤šä¸ªæ¡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ªä½¿ç”¨ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼ŒMyBatis æä¾›äº† choose å…ƒç´ ï¼Œå®ƒæœ‰ç‚¹åƒ Java ä¸­çš„ switch è¯­å¥ã€‚</p><p>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œä½†æ˜¯ç­–ç•¥å˜ä¸ºï¼šä¼ å…¥äº† â€œtitleâ€ å°±æŒ‰ â€œtitleâ€ æŸ¥æ‰¾ï¼Œä¼ å…¥äº† â€œauthorâ€ å°±æŒ‰ â€œauthorâ€ æŸ¥æ‰¾çš„æƒ…å½¢ã€‚è‹¥ä¸¤è€…éƒ½æ²¡æœ‰ä¼ å…¥ï¼Œå°±è¿”å›æ ‡è®°ä¸º featured çš„ BLOGï¼ˆè¿™å¯èƒ½æ˜¯ç®¡ç†å‘˜è®¤ä¸ºï¼Œä¸å…¶è¿”å›å¤§é‡çš„æ— æ„ä¹‰éšæœº Blogï¼Œè¿˜ä¸å¦‚è¿”å›ä¸€äº›ç”±ç®¡ç†å‘˜ç²¾é€‰çš„ Blogï¼‰ã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG WHERE state = â€˜ACTIVEâ€™
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      AND title like #{title}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      AND author_name like #{author.name}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
      AND featured = 1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="trimã€whereã€set" tabindex="-1"><a class="header-anchor" href="#trimã€whereã€set" aria-hidden="true">#</a> trimã€whereã€set</h3><p>å‰é¢å‡ ä¸ªä¾‹å­å·²ç»æ–¹ä¾¿åœ°è§£å†³äº†ä¸€ä¸ªè‡­åæ˜­è‘—çš„åŠ¨æ€ SQL é—®é¢˜ã€‚ç°åœ¨å›åˆ°ä¹‹å‰çš„ â€œifâ€ ç¤ºä¾‹ï¼Œè¿™æ¬¡æˆ‘ä»¬å°† â€œstate = â€˜ACTIVEâ€™â€ è®¾ç½®æˆåŠ¨æ€æ¡ä»¶ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG
  WHERE
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>state != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    state = #{state}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND title like #{title}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    AND author_name like #{author.name}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ²¡æœ‰åŒ¹é…çš„æ¡ä»¶ä¼šæ€ä¹ˆæ ·ï¼Ÿæœ€ç»ˆè¿™æ¡ SQL ä¼šå˜æˆè¿™æ ·ï¼š</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> BLOG
<span class="token keyword">WHERE</span>
</code></pre></div><p>è¿™ä¼šå¯¼è‡´æŸ¥è¯¢å¤±è´¥ã€‚å¦‚æœåŒ¹é…çš„åªæ˜¯ç¬¬äºŒä¸ªæ¡ä»¶åˆä¼šæ€æ ·ï¼Ÿè¿™æ¡ SQL ä¼šæ˜¯è¿™æ ·:</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> BLOG
<span class="token keyword">WHERE</span>
<span class="token operator">AND</span> title <span class="token operator">like</span> â€˜someTitleâ€™
</code></pre></div><p>è¿™ä¸ªæŸ¥è¯¢ä¹Ÿä¼šå¤±è´¥ã€‚è¿™ä¸ªé—®é¢˜ä¸èƒ½ç®€å•åœ°ç”¨æ¡ä»¶å…ƒç´ æ¥è§£å†³ã€‚è¿™ä¸ªé—®é¢˜æ˜¯å¦‚æ­¤çš„éš¾ä»¥è§£å†³ï¼Œä»¥è‡³äºè§£å†³è¿‡çš„äººä¸ä¼šå†æƒ³ç¢°åˆ°è¿™ç§é—®é¢˜ã€‚</p><p>MyBatis æœ‰ä¸€ä¸ªç®€å•ä¸”é€‚åˆå¤§å¤šæ•°åœºæ™¯çš„è§£å†³åŠæ³•ã€‚è€Œåœ¨å…¶ä»–åœºæ™¯ä¸­ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰ä»¥ç¬¦åˆéœ€æ±‚ã€‚è€Œè¿™ï¼Œåªéœ€è¦ä¸€å¤„ç®€å•çš„æ”¹åŠ¨ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findActiveBlogLike<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT * FROM BLOG
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>state != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         state = #{state}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        AND title like #{title}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author != null and author.name != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        AND author_name like #{author.name}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>where</em> å…ƒç´ åªä¼šåœ¨å­å…ƒç´ è¿”å›ä»»ä½•å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥ â€œWHEREâ€ å­å¥ã€‚è€Œä¸”ï¼Œè‹¥å­å¥çš„å¼€å¤´ä¸º â€œANDâ€ æˆ– â€œORâ€ï¼Œ<em>where</em> å…ƒç´ ä¹Ÿä¼šå°†å®ƒä»¬å»é™¤ã€‚</p><p>å¦‚æœ <em>where</em> å…ƒç´ ä¸ä½ æœŸæœ›çš„ä¸å¤ªä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ trim å…ƒç´ æ¥å®šåˆ¶ <em>where</em> å…ƒç´ çš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œå’Œ <em>where</em> å…ƒç´ ç­‰ä»·çš„è‡ªå®šä¹‰ trim å…ƒç´ ä¸ºï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WHERE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prefixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>AND |OR <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><em>prefixOverrides</em> å±æ€§ä¼šå¿½ç•¥é€šè¿‡ç®¡é“ç¬¦åˆ†éš”çš„æ–‡æœ¬åºåˆ—ï¼ˆæ³¨æ„æ­¤ä¾‹ä¸­çš„ç©ºæ ¼æ˜¯å¿…è¦çš„ï¼‰ã€‚ä¸Šè¿°ä¾‹å­ä¼šç§»é™¤æ‰€æœ‰ <em>prefixOverrides</em> å±æ€§ä¸­æŒ‡å®šçš„å†…å®¹ï¼Œå¹¶ä¸”æ’å…¥ <em>prefix</em> å±æ€§ä¸­æŒ‡å®šçš„å†…å®¹ã€‚</p><p>ç”¨äºåŠ¨æ€æ›´æ–°è¯­å¥çš„ç±»ä¼¼è§£å†³æ–¹æ¡ˆå«åš <em>set</em>ã€‚<em>set</em> å…ƒç´ å¯ä»¥ç”¨äºåŠ¨æ€åŒ…å«éœ€è¦æ›´æ–°çš„åˆ—ï¼Œå¿½ç•¥å…¶å®ƒä¸æ›´æ–°çš„åˆ—ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateAuthorIfNecessary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  update Author
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>username=#{username},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>password=#{password},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>email=#{email},<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bio != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>bio=#{bio}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
  where id=#{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<em>set</em> å…ƒç´ ä¼šåŠ¨æ€åœ°åœ¨è¡Œé¦–æ’å…¥ SET å…³é”®å­—ï¼Œå¹¶ä¼šåˆ æ‰é¢å¤–çš„é€—å·ï¼ˆè¿™äº›é€—å·æ˜¯åœ¨ä½¿ç”¨æ¡ä»¶è¯­å¥ç»™åˆ—èµ‹å€¼æ—¶å¼•å…¥çš„ï¼‰ã€‚</p><p>æˆ–è€…ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨<em>trim</em>å…ƒç´ æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼š</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SET<span class="token punctuation">&quot;</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æ³¨æ„ï¼Œæˆ‘ä»¬è¦†ç›–äº†åç¼€å€¼è®¾ç½®ï¼Œå¹¶ä¸”è‡ªå®šä¹‰äº†å‰ç¼€å€¼ã€‚</p><h3 id="foreach" tabindex="-1"><a class="header-anchor" href="#foreach" aria-hidden="true">#</a> foreach</h3><p>åŠ¨æ€ SQL çš„å¦ä¸€ä¸ªå¸¸è§ä½¿ç”¨åœºæ™¯æ˜¯å¯¹é›†åˆè¿›è¡Œéå†ï¼ˆå°¤å…¶æ˜¯åœ¨æ„å»º IN æ¡ä»¶è¯­å¥çš„æ—¶å€™ï¼‰ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectPostIn<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>domain.blog.Post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  SELECT *
  FROM POST P
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ID in (<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span> <span class="token attr-name">nullable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          #{item}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>foreach</em> å…ƒç´ çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå®ƒå…è®¸ä½ æŒ‡å®šä¸€ä¸ªé›†åˆï¼Œå£°æ˜å¯ä»¥åœ¨å…ƒç´ ä½“å†…ä½¿ç”¨çš„é›†åˆé¡¹ï¼ˆitemï¼‰å’Œç´¢å¼•ï¼ˆindexï¼‰å˜é‡ã€‚å®ƒä¹Ÿå…è®¸ä½ æŒ‡å®šå¼€å¤´ä¸ç»“å°¾çš„å­—ç¬¦ä¸²ä»¥åŠé›†åˆé¡¹è¿­ä»£ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚è¿™ä¸ªå…ƒç´ ä¹Ÿä¸ä¼šé”™è¯¯åœ°æ·»åŠ å¤šä½™çš„åˆ†éš”ç¬¦ï¼Œçœ‹å®ƒå¤šæ™ºèƒ½ï¼</p><p><strong>æç¤º</strong> ä½ å¯ä»¥å°†ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚ Listã€Set ç­‰ï¼‰ã€Map å¯¹è±¡æˆ–è€…æ•°ç»„å¯¹è±¡ä½œä¸ºé›†åˆå‚æ•°ä¼ é€’ç»™ <em>foreach</em>ã€‚å½“ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡æˆ–è€…æ•°ç»„æ—¶ï¼Œindex æ˜¯å½“å‰è¿­ä»£çš„åºå·ï¼Œitem çš„å€¼æ˜¯æœ¬æ¬¡è¿­ä»£è·å–åˆ°çš„å…ƒç´ ã€‚å½“ä½¿ç”¨ Map å¯¹è±¡ï¼ˆæˆ–è€… Map.Entry å¯¹è±¡çš„é›†åˆï¼‰æ—¶ï¼Œindex æ˜¯é”®ï¼Œitem æ˜¯å€¼ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸ XML é…ç½®åŠæ˜ å°„æ–‡ä»¶ç›¸å…³çš„è®¨è®ºã€‚ä¸‹ä¸€ç« å°†è¯¦ç»†æ¢è®¨ Java APIï¼Œä»¥ä¾¿ä½ èƒ½å……åˆ†åˆ©ç”¨å·²ç»åˆ›å»ºçš„æ˜ å°„é…ç½®ã€‚</p><h3 id="script" tabindex="-1"><a class="header-anchor" href="#script" aria-hidden="true">#</a> script</h3><p>è¦åœ¨å¸¦æ³¨è§£çš„æ˜ å°„å™¨æ¥å£ç±»ä¸­ä½¿ç”¨åŠ¨æ€ SQLï¼Œå¯ä»¥ä½¿ç”¨ <em>script</em> å…ƒç´ ã€‚æ¯”å¦‚:</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;&lt;script&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;update Author&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;  &lt;set&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;    &lt;if test=&#39;username != null&#39;&gt;username=#{username},&lt;/if&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;    &lt;if test=&#39;password != null&#39;&gt;password=#{password},&lt;/if&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;    &lt;if test=&#39;email != null&#39;&gt;email=#{email},&lt;/if&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;    &lt;if test=&#39;bio != null&#39;&gt;bio=#{bio}&lt;/if&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;  &lt;/set&gt;&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;where id=#{id}&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;&lt;/script&gt;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">updateAuthorValues</span><span class="token punctuation">(</span><span class="token class-name">Author</span> author<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bind" tabindex="-1"><a class="header-anchor" href="#bind" aria-hidden="true">#</a> bind</h3><p><code>bind</code> å…ƒç´ å…è®¸ä½ åœ¨ OGNL è¡¨è¾¾å¼ä»¥å¤–åˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°å½“å‰çš„ä¸Šä¸‹æ–‡ã€‚æ¯”å¦‚ï¼š</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectBlogsLike<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bind</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pattern<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>%&#39; + _parameter.getTitle() + &#39;%&#39;<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  SELECT * FROM BLOG
  WHERE title LIKE #{pattern}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="java-api" tabindex="-1"><a class="header-anchor" href="#java-api" aria-hidden="true">#</a> Java API</h2><h2 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h2><p><a href="https://mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener noreferrer">Mybatis3 å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/AlexChen68/blog/edit/master/src/md/db/mybatis/mybatis.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 1274812218@qq.com">alexchen68</span>,<!--]--><!--[--><span class="contributor" title="email: 1274812218@qq.com">alexchen</span><!--]--><!--]--></div></footer><nav class="page-nav"><!----><a href="/md/db/mybatis/mybatis-spring.html" class="nav-link next" aria-label="Mybatis-Spring"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Mybatis-Spring<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.abaa51aa.js" defer></script>
  </body>
</html>
